---
emoji: ğŸ”®
title: Letâ€™s Go Docker(ì‹¬í™”í¸) - ë³€ê²½ì‚¬í•­ì„ Dockerë¡œ ìë™ ë°°í¬í•˜ê¸°
date: '2022-11-06 00:00:00'
author: ì£¼ë…
tags: ë„ì»¤ Docker IntelliJ SpringBoot Docker VM Container ë„ì»¤
categories: infra
---

ì§€ì ê³¼ ëŒ“ê¸€ì€ ì–¸ì œë‚˜ í™˜ì˜í•©ë‹ˆë‹¤!

<br/>

# ë³€ê²½ì‚¬í•­ì„ Dockerë¡œ ìë™ ë°°í¬í•˜ê¸°

ë³€ê²½ì‚¬í•­ì„ ê°ì§€í•˜ê³  ë°°í¬í•˜ë ¤ë©´

CI/CI íŒŒì´í”„ë¼ì¸ êµ¬ì¶•ì„ ë¨¼ì € ì•Œì•„ì•¼í•œë‹¤.

<br>

---

# Github Actionì„ ì´ìš©í•œ CI/CD

í•„ìëŠ” í˜„ì¬ ì´ ë¸”ë¡œê·¸ë„ Github Actionìœ¼ë¡œ ë°°í¬í•˜ê³  ìˆë‹¤.

[ë¸”ë¡œê·¸ ë¹Œë“œ ë° ë°°í¬ ìë™í™”

<br>

ê·¸ ë•Œì˜ [ê¸°ì–µ](https://www.junwork.net/blog-build-deploy-2/)ì„ ë˜ì‚´ë ¤ ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì¬í™œìš©í•´ë³´ì.

```yaml
name: Blog Deployment # ì´ ìŠ¤í¬ë¦½íŠ¸ì˜ ì œëª©

# ì–´ë–¤ í–‰ë™ì„ í• ë•Œë§ˆë‹¤ ì‹¤í–‰í• ì§€
on:
  # master, release/v*ë¼ëŠ” ì´ë¦„ì˜ ë¸Œëœì¹˜ì— pushê°€ ë°œìƒí•  ë•Œë§ˆë‹¤
  # ex) release/v0.1, release/v2.1.5
  push:
    branches:
      - master
      - release/v*

  # gh-pages ë¸Œëœì¹˜ì— pull_requestê°€ ë°œìƒí•  ë•Œë§ˆë‹¤
  pull_request:
    branches:
      - gh-pages

  # cron í‘œí˜„ì‹ìœ¼ë¡œ `UTC ê¸°ì¤€ ë§¤ì¼ ì›”~ê¸ˆ ì˜¤ì „2ì‹œì— ì‹¤í–‰`
  schedule:
    - cron: '0 0 2 ? * MON-FRI *'

  # ì§ì ‘ "Run workflow"ë²„íŠ¼ì„ ëˆ„ë¥¼ë•Œë§Œ ì‹¤í–‰
  workflow_dispatch:

# ì‹¤í–‰í•  ì‘ì—…ì„ ì •ì˜
jobs:
  # 'build'ë¼ëŠ” ì´ë¦„ì˜ jobì€ (jobì´ë¦„ì€ ë§˜ëŒ€ë¡œ ì ì–´ë„ ë¨)
  # 'Checkout, Install, Build'ë¼ëŠ” ì´ë¦„ì˜ ì‘ì—…ì„
  # ìš°ë¶„íˆ¬ ìµœì‹ ë²„ì „ì—ì„œ ë™ì‘ì‹œí‚¨ë‹¤.
  # ë™ì‘ë‚´ìš©ì€
  # [ë¸Œëœì¹˜ ì²´í¬ì•„ì›ƒ
  #   > íŒ¨í‚¤ì§€ ì„¤ì¹˜
  #   > ë¹Œë“œ
  #   > ë©”ì‹œì§€ ì¶œë ¥
  #   > ë„ë©”ì¸ ë³µì‚¬
  #   > ë°°í¬] ìˆœìœ¼ë¡œ ì§„í–‰ëœë‹¤.

  deploy:
    runs-on: ubuntu-latest

    name: Checkout, Install, Build

    # ë‹¤ìŒ ë™ì‘ì„ ìˆœì„œëŒ€ë¡œ ì‹¤í–‰
    steps:
      # 'uses' == ëˆ„êµ°ê°€ ë¯¸ë¦¬ ì •ì˜ëœ workflow@version ì‚¬ìš©
      # 'master' ë¸Œëœì¹˜ë¥¼ ì²´í¬ì•„ì›ƒ()
      - name: Checkout branche
        uses: actions/checkout@master

      # íŒ¨í‚¤ì§€ ì„¤ì¹˜ ë™ì‘
      # [node ì„¤ì¹˜
      #   > ì˜ì¡´ì„± ìºì‹œê²€ì‚¬
      #   > (ë³€í™”ê°€ ìˆë‹¤ë©´) npmì„¤ì¹˜] ìˆœìœ¼ë¡œ ë™ì‘
      - name: Use Node.js
        uses: actions/setup-node@master
        with:
          node-version: 16.x

      - name: Cache node modules
        uses: actions/cache@v2
        id: cache
        with:
          path: node_modules
          key: npm-packages-${{ hashFiles('**/package-lock.json') }}

      - name: Install Dependencies
        if: steps.cache.outputs.cache-hit != 'true'
        run: npm install

      # ë¹Œë“œ ì‹¤í–‰
      - name: Build
        run: npm run build

      # ë„ë©”ì¸ ì„¤ì •íŒŒì¼ì„ ë¹Œë“œê²°ê³¼ë¬¼ì— ë³µì‚¬
      - name: copy Cname
        run: cp CNAME public/

      # íŠ¹ì • ìœ ì €ì˜ ë°°í¬ ì•¡ì…˜ì„ ì´ìš©í•˜ì—¬
      # ë¹Œë“œ ê²°ê³¼ë¬¼ì„ ë°°í¬ ê²½ë¡œì— ë³µì‚¬í•œë‹¤.
      - name: Deploy changes
        uses: peaceiris/actions-gh-pages@v3
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}
          publish_dir: ./public
          publish_branch: gh-pages # default: gh-pages
```

---

<br>

_ì¶œì²˜_

<br/>

---

```toc

```
