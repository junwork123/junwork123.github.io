{
    "componentChunkName": "component---src-templates-blog-template-js",
    "path": "/Spring-Learn-IoC-And-DI/",
    "result": {"data":{"cur":{"id":"37b7baf9-66e1-5c60-9fbb-8b59b30dcde7","html":"<p>지적과 댓글은 언제나 환영합니다!</p>\n<br/>\n<hr>\n<h2 id=\"iocinverse-of-control\" style=\"position:relative;\"><a href=\"#iocinverse-of-control\" aria-label=\"iocinverse of control permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><strong>IoC(Inverse of Control)</strong></h2>\n<br/>\n<p>스프링과 같은 프레임워크를 사용할 때를 생각해보자.</p>\n<p>Controller, Service 같은 객체들의 동작을 우리가 직접 구현하기는 하지만,</p>\n<p>해당 객체들이 어느 시점에 호출될 지는 신경쓰지 않는다.</p>\n<p>단지 프레임워크가 요구하는대로 객체를 생성하면,</p>\n<p>프레임워크가 해당 객체들을 가져다가 생성하고, 메서드를 호출하고, 소멸시킨다.</p>\n<p>프로그램의 제어권이 역전된 것이다.</p>\n<p>이를 IoC(Inverse of Control)라고 부른다.</p>\n<br/>\n<p>이러한 싱글톤 패턴은 내부 설계를 변경하거나 초기화하기가 어렵다.</p>\n<p>또한, private 생성자를 사용하기 때문에 자식 클래스를 만들기 어렵다.</p>\n<p>즉, 많이 사용할수록 유연하지 않은 설계가 된다.</p>\n<br/>\n<hr>\n<h2 id=\"스프링-컨테이너\" style=\"position:relative;\"><a href=\"#%EC%8A%A4%ED%94%84%EB%A7%81-%EC%BB%A8%ED%85%8C%EC%9D%B4%EB%84%88\" aria-label=\"스프링 컨테이너 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><strong>스프링 컨테이너</strong></h2>\n<br/>\n<p>이를 해결하기 위해 등장한 것이 스프링 컨테이너이다.</p>\n<p>싱글톤 패턴을 적용하지 않아도, 객체 인스턴스를 싱글톤으로 관리한다.</p>\n<br/>\n<p>그래서 스프링 컨테이너는 싱글톤 패턴의 문제점을 해결하면서,</p>\n<p>객체 인스턴스를 싱글톤(1개만 생성)으로 관리한다.</p>\n<br/>\n<hr>\n<h2 id=\"싱글톤-패턴의-주의점\" style=\"position:relative;\"><a href=\"#%EC%8B%B1%EA%B8%80%ED%86%A4-%ED%8C%A8%ED%84%B4%EC%9D%98-%EC%A3%BC%EC%9D%98%EC%A0%90\" aria-label=\"싱글톤 패턴의 주의점 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><strong>싱글톤 패턴의 주의점</strong></h2>\n<br/>\n<p>싱글톤 패턴 또는 싱글톤 컨테이너든</p>\n<p>객체 인스턴스를 하나만 생성해서 사용하는 방식의 경우</p>\n<p>여러 클라이언트가 하나의 객체를 공유하기 때문에</p>\n<p>해당 객체를 상태를 유지시키는 구조로 설계해서는 안된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">StatefulService</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword\">private</span> <span class=\"token keyword\">int</span> price<span class=\"token punctuation\">;</span> <span class=\"token comment\">//상태를 유지하는 필드</span>\n\t<span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">order</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> name<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> price<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> \n        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"name = \"</span> <span class=\"token operator\">+</span> name <span class=\"token operator\">+</span> <span class=\"token string\">\" price = \"</span> <span class=\"token operator\">+</span> price<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> \n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>price <span class=\"token operator\">=</span> price<span class=\"token punctuation\">;</span> <span class=\"token comment\">//여기가 문제!</span>\n    <span class=\"token punctuation\">}</span>\n      <span class=\"token keyword\">public</span> <span class=\"token keyword\">int</span> <span class=\"token function\">getPrice</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token keyword\">return</span> price<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> \n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><br/><br/></p>\n<p><em>출처</em></p>\n<p><em><a href=\"https://hongchangsub.com/springcore5/\">hongchangsub님 블로그</a></em></p>\n<p><em><a href=\"https://www.inflearn.com/course/%EC%8A%A4%ED%94%84%EB%A7%81-mvc-1#\">인프런 스프링 MVC 강의 1편</a></em></p>\n<p><em><a href=\"https://www.inflearn.com/course/%EC%8A%A4%ED%94%84%EB%A7%81-%ED%95%B5%EC%8B%AC-%EC%9B%90%EB%A6%AC-%EA%B8%B0%EB%B3%B8%ED%8E%B8/\">인프런 스프링 핵심 원리 기본편</a></em></p>\n<br/>\n<hr>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#iocinverse-of-control\"><strong>IoC(Inverse of Control)</strong></a></li>\n<li><a href=\"#%EC%8A%A4%ED%94%84%EB%A7%81-%EC%BB%A8%ED%85%8C%EC%9D%B4%EB%84%88\"><strong>스프링 컨테이너</strong></a></li>\n<li><a href=\"#%EC%8B%B1%EA%B8%80%ED%86%A4-%ED%8C%A8%ED%84%B4%EC%9D%98-%EC%A3%BC%EC%9D%98%EC%A0%90\"><strong>싱글톤 패턴의 주의점</strong></a></li>\n</ul>\n</div>","excerpt":"지적과 댓글은 언제나 환영합니다! IoC(Inverse of Control) 스프링과 같은 프레임워크를 사용할 때를 생각해보자. Controller, Service 같은 객체들의 동작을 우리가 직접 구현하기는 하지만, 해당 객체들이 어느 시점에 호출될 지는 신경쓰지 않는다. 단지 프레임워크가 요구하는대로 객체를 생성하면, 프레임워크가 해당 객체들을 가져다가 생성하고, 메서드를 호출하고, 소멸시킨다. 프로그램의 제어권이 역전된 것이다. 이를 IoC(Inverse of Control)라고 부른다. 이러한 싱글톤 패턴은 내부 설계를 변경하거나 초기화하기가 어렵다. 또한, private 생성자를 사용하기 때문에 자식 클래스를 만들기 어렵다. 즉, 많이 사용할수록 유연하지 않은 설계가 된다. 스프링 컨테이너 이를 해결하기 위해 등장한 것이 스프링 컨테이너이다. 싱글톤 패턴을 적용하지 않아도, 객체 인스턴스를 싱글톤으로 관리한다. 그래서 스프링 컨테이너는 싱글톤 패턴의 문제점을 해결하면서, …","frontmatter":{"date":"September 20, 2022","title":"스프링 IoC와 DI를 아시나요?","categories":"Spring","author":"주녁","emoji":"🔮"},"fields":{"slug":"/Spring-Learn-IoC-And-DI/"}},"next":{"id":"d33978b6-42dc-5f40-970b-156814129346","html":"<p>지적과 댓글은 언제나 환영합니다!</p>\n<p><br/><br/></p>\n<p>Spring으로 개발을 하다보면 @Bean과 @Component를 언제 써야할지 헷갈릴때가 있다.</p>\n<p>둘다 Bean을 생성할때 사용하는 어노테이션인데 왜 2개로 나누어져있을까?</p>\n<br>\n<hr>\n<h2 id=\"bean의-정의와-용도\" style=\"position:relative;\"><a href=\"#bean%EC%9D%98-%EC%A0%95%EC%9D%98%EC%99%80-%EC%9A%A9%EB%8F%84\" aria-label=\"bean의 정의와 용도 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>@Bean의 정의와 용도</h2>\n<br>\n<p>@Bean의 용도를 한줄로 요약하자면,</p>\n<p>개발자가 컨트롤이 불가능한 <code class=\"language-text\">외부 라이브러리들을 Bean으로 등록</code>하고 싶은 경우에 사용된다.</p>\n<br>\n<p><code class=\"language-text\">Bean.java</code>의 documentation을 보면, 아래와 같은 문장이 가장 처음써있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Indicates that a method produces a bean to be managed by the Spring container.</code></pre></div>\n<p>그렇다.</p>\n<p>스프링 컨테이너에 의해 관리되는 Bean들을 생성하는 <code class=\"language-text\">method</code>에 사용할 수 있는 어노테이션이다.</p>\n<br>\n<p>실제 정의를 살펴보면 다음과 같다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Target</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token class-name\">ElementType</span><span class=\"token punctuation\">.</span>METHOD<span class=\"token punctuation\">,</span> <span class=\"token class-name\">ElementType</span><span class=\"token punctuation\">.</span>ANNOTATION_TYPE<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token annotation punctuation\">@Retention</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">RetentionPolicy</span><span class=\"token punctuation\">.</span>RUNTIME<span class=\"token punctuation\">)</span>\n<span class=\"token annotation punctuation\">@Documented</span>\n<span class=\"token keyword\">public</span> <span class=\"token annotation punctuation\">@interface</span> <span class=\"token class-name\">Bean</span> <span class=\"token punctuation\">{</span></code></pre></div>\n<br>\n<p>타겟에 <code class=\"language-text\">method</code>에만 적용할 수 있도록 명시되어 있다.</p>\n<p>떄문에 직접 작성한 <code class=\"language-text\">class</code>에는 사용할 수 없는 것이다.</p>\n<br>\n<p>그렇기 때문에 외부 라이브러리를 bean으로 사용하고 싶을 때 <code class=\"language-text\">@Configuration</code> 클래스 안에 <code class=\"language-text\">@bean</code>을 사용하여 생성 메소드를 작성하는 것이다.</p>\n<p><br><br></p>\n<p>그렇다면 <code class=\"language-text\">class</code>에도 사용할 수 있는 어노테이션이 있지 않을까?</p>\n<p><code class=\"language-text\">@Component</code>가 바로 그렇다.</p>\n<br>\n<hr>\n<h2 id=\"component\" style=\"position:relative;\"><a href=\"#component\" aria-label=\"component permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>@Component</h2>\n<br>\n<p><code class=\"language-text\">@Component</code>는 <code class=\"language-text\">class</code>를 bean으로 사용할 수 있도록 해주는 어노테이션이다.</p>\n<p>아래는 <code class=\"language-text\">Component.java</code>에 나오는 원문이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Indicates that an annotated class is a \"component\". Such classes are considered as candidates for auto-detection when using annotation-based configuration and classpath scanning.\nOther class-level annotations may be considered as identifying a component as well, typically a special kind of component: e.g. the @Repository annotation or AspectJ's @Aspect annotation.</code></pre></div>\n<br>\n<p>해석하자면, <u>어노테이션 기반의 configuration에 후보로 등록</u>되도록 해준다.</p>\n<p>또한 다른 클래스 레벨의 어노테이션(ex : <code class=\"language-text\">@Controller</code>, <code class=\"language-text\">@Repository</code>, <code class=\"language-text\">@Service</code>)도 그런 역할을 할 수 있도록 해준다.</p>\n<p>우리가 Spring을 공부하며 배운 내용 그대로가 적혀있다.</p>\n<br>\n<p>실제 정의를 살펴보면 다음과 같다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Target</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ElementType</span><span class=\"token punctuation\">.</span>TYPE<span class=\"token punctuation\">)</span>\n<span class=\"token annotation punctuation\">@Retention</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">RetentionPolicy</span><span class=\"token punctuation\">.</span>RUNTIME<span class=\"token punctuation\">)</span>\n<span class=\"token annotation punctuation\">@Documented</span>\n<span class=\"token annotation punctuation\">@Indexed</span>\n<span class=\"token keyword\">public</span> <span class=\"token annotation punctuation\">@interface</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span></code></pre></div>\n<br>\n<p>class에 적용할 수 있도록 타겟이 <code class=\"language-text\">TYPE</code> 형태로 지정되어 있다.</p>\n<p>따라서 직접 만든 클래스에 사용이 가능하다.</p>\n<br>\n<p>다만, <code class=\"language-text\">@Bean</code>과 차이점으로 <code class=\"language-text\">@Indexed</code>라는 어노테이션이 설정되어 있는 것을 볼 수있다.</p>\n<br>\n<p><code class=\"language-text\">@Indexed</code>는 <code class=\"language-text\">@Component</code>어노테이션과 같이 사용되는데, 컴파일 시점에 <code class=\"language-text\">@Component</code> 어노테이션이 검색될 수 있도록 완전정규화된 이름을 부여해주는 역할을 한다.</p>\n<details>\n    <summary>원문 참조</summary>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">The CandidateComponentsIndex is an alternative to classpath scanning that uses a metadata file generated at compilation time. The index allows retrieving the candidate components (i.e. fully qualified name) based on a stereotype. This annotation instructs the generator to index the element on which the annotated element is present or if it implements or extends from the annotated element. The stereotype is the fully qualified name of the annotated element.\n\nConsider the default Component annotation that is meta-annotated with this annotation. If a component is annotated with Component, an entry for that component will be added to the index using the org.springframework.stereotype.Component stereotype.</code></pre></div>\n</details>\n<br>\n<hr>\n<h2 id=\"마치며\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\" aria-label=\"마치며 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>마치며..</h2>\n<br>\n<p>자, 이제 <code class=\"language-text\">@Bean</code>과 <code class=\"language-text\">@Component</code>의 차이점에 대해 설명할 수 있는가?</p>\n<p>용도에 맞는 어노테이션 사용도 중요하지만,</p>\n<p>정의를 직접 찾아보고 해석해보는 것도 좋은 경험이 될 것이다.</p>\n<br/>\n<h2 id=\"불변\" style=\"position:relative;\"><a href=\"#%EB%B6%88%EB%B3%80\" aria-label=\"불변 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><strong>불변</strong></h2>\n<p><em>출처</em></p>\n<p><em><a href=\"https://jojoldu.tistory.com/27\">jojoldu님 블로그</a></em></p>\n<p><em><a href=\"https://www.inflearn.com/course/%EC%8A%A4%ED%94%84%EB%A7%81-mvc-1#\">인프런 스프링 MVC 강의 1편</a></em></p>\n<p><em><a href=\"https://www.inflearn.com/course/%EC%8A%A4%ED%94%84%EB%A7%81-%ED%95%B5%EC%8B%AC-%EC%9B%90%EB%A6%AC-%EA%B8%B0%EB%B3%B8%ED%8E%B8/\">인프런 스프링 핵심 원리 기본편</a></em></p>\n<br/>\n<hr>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#bean%EC%9D%98-%EC%A0%95%EC%9D%98%EC%99%80-%EC%9A%A9%EB%8F%84\">@Bean의 정의와 용도</a></li>\n<li><a href=\"#component\">@Component</a></li>\n<li><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\">마치며..</a></li>\n<li><a href=\"#%EB%B6%88%EB%B3%80\"><strong>불변</strong></a></li>\n</ul>\n</div>","frontmatter":{"date":"September 19, 2022","title":"스프링 @Bean과 @Component의 차이점을 아시나요?","categories":"Spring","author":"주녁","emoji":"🔮"},"fields":{"slug":"/Spring-Learn-Bean-And-Component/"}},"prev":{"id":"7c3c2b18-9c56-5986-84ac-89e66b59ecba","html":"<p>지적과 댓글은 언제나 환영합니다!</p>\n<br/>\n<hr>\n<h2 id=\"싱글톤-패턴\" style=\"position:relative;\"><a href=\"#%EC%8B%B1%EA%B8%80%ED%86%A4-%ED%8C%A8%ED%84%B4\" aria-label=\"싱글톤 패턴 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><strong>싱글톤 패턴</strong></h2>\n<br/>\n<p>클래스의 인스턴스가 딱 1개만 생성되는 것을 보장하는 디자인 패턴이다.</p>\n<p>해당되는 인스턴스에 대해서 private 생성자를 사용해</p>\n<p>최초 1번만 static 인스턴스를 생성하는 디자인 패턴이다.</p>\n<br/>\n<p>이러한 싱글톤 패턴은 내부 설계를 변경하거나 초기화하기가 어렵다.</p>\n<p>또한, private 생성자를 사용하기 때문에 자식 클래스를 만들기 어렵다.</p>\n<p>즉, 많이 사용할수록 유연하지 않은 설계가 된다.</p>\n<br/>\n<hr>\n<h2 id=\"스프링-컨테이너\" style=\"position:relative;\"><a href=\"#%EC%8A%A4%ED%94%84%EB%A7%81-%EC%BB%A8%ED%85%8C%EC%9D%B4%EB%84%88\" aria-label=\"스프링 컨테이너 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><strong>스프링 컨테이너</strong></h2>\n<br/>\n<p>이를 해결하기 위해 등장한 것이 스프링 컨테이너이다.</p>\n<p>싱글톤 패턴을 적용하지 않아도, 객체 인스턴스를 싱글톤으로 관리한다.</p>\n<p>스프링은 객체를 <code class=\"language-text\">프록시(Proxy) 객체</code>로 복사해서</p>\n<p><code class=\"language-text\">Spring Bean</code> 객체로 다시 만든다.</p>\n<p>그리고 이를 <code class=\"language-text\">Spring Bean</code>으로 등록할 수 있게 해준다.</p>\n<p>이 때 사용하는 라이브러리가 CGLIB이다.</p>\n<p>이 CGLIB 덕분에 바이트 코드 조작이 가능해져서,</p>\n<p>Spring에서 객체를 출력할 때, <code class=\"language-text\">AppConfig$$EnhancerBySpringCGLIB</code> 과 같은 문구가 붙은 것이다.</p>\n<br/>\n<p>결과적으로, 스프링 컨테이너는 싱글톤 패턴의 문제점을 해결하면서,</p>\n<p>객체 인스턴스를 싱글톤(1개만 생성)으로 관리한다.</p>\n<br/>\n<hr>\n<h2 id=\"싱글톤-패턴의-주의점\" style=\"position:relative;\"><a href=\"#%EC%8B%B1%EA%B8%80%ED%86%A4-%ED%8C%A8%ED%84%B4%EC%9D%98-%EC%A3%BC%EC%9D%98%EC%A0%90\" aria-label=\"싱글톤 패턴의 주의점 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><strong>싱글톤 패턴의 주의점</strong></h2>\n<br/>\n<p>싱글톤 패턴 또는 싱글톤 컨테이너든</p>\n<p>객체 인스턴스를 하나만 생성해서 사용하는 방식의 경우</p>\n<p>여러 클라이언트가 하나의 객체를 공유하기 때문에</p>\n<p>해당 객체를 상태를 유지시키는 구조로 설계해서는 안된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">StatefulService</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword\">private</span> <span class=\"token keyword\">int</span> price<span class=\"token punctuation\">;</span> <span class=\"token comment\">//상태를 유지하는 필드</span>\n\t<span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">order</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> name<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> price<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> \n        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"name = \"</span> <span class=\"token operator\">+</span> name <span class=\"token operator\">+</span> <span class=\"token string\">\" price = \"</span> <span class=\"token operator\">+</span> price<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> \n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>price <span class=\"token operator\">=</span> price<span class=\"token punctuation\">;</span> <span class=\"token comment\">//여기가 문제!</span>\n    <span class=\"token punctuation\">}</span>\n      <span class=\"token keyword\">public</span> <span class=\"token keyword\">int</span> <span class=\"token function\">getPrice</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token keyword\">return</span> price<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> \n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><br/><br/></p>\n<p><em>출처</em></p>\n<p><em><a href=\"https://hongchangsub.com/springcore5/\">hongchangsub님 블로그</a></em></p>\n<p><em><a href=\"https://www.inflearn.com/course/%EC%8A%A4%ED%94%84%EB%A7%81-mvc-1#\">인프런 스프링 MVC 강의 1편</a></em></p>\n<p><em><a href=\"https://www.inflearn.com/course/%EC%8A%A4%ED%94%84%EB%A7%81-%ED%95%B5%EC%8B%AC-%EC%9B%90%EB%A6%AC-%EA%B8%B0%EB%B3%B8%ED%8E%B8/\">인프런 스프링 핵심 원리 기본편</a></em></p>\n<br/>\n<hr>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#%EC%8B%B1%EA%B8%80%ED%86%A4-%ED%8C%A8%ED%84%B4\"><strong>싱글톤 패턴</strong></a></li>\n<li><a href=\"#%EC%8A%A4%ED%94%84%EB%A7%81-%EC%BB%A8%ED%85%8C%EC%9D%B4%EB%84%88\"><strong>스프링 컨테이너</strong></a></li>\n<li><a href=\"#%EC%8B%B1%EA%B8%80%ED%86%A4-%ED%8C%A8%ED%84%B4%EC%9D%98-%EC%A3%BC%EC%9D%98%EC%A0%90\"><strong>싱글톤 패턴의 주의점</strong></a></li>\n</ul>\n</div>","frontmatter":{"date":"September 21, 2022","title":"스프링 싱글톤(Singleton)과 컨테이너(Container)를 아시나요?","categories":"Spring","author":"주녁","emoji":"🔮"},"fields":{"slug":"/Spring-Learn-Singleton-And-Container/"}},"site":{"siteMetadata":{"siteUrl":"https://www.junwork.net","comments":{"utterances":{"repo":"junwork123/blog-comments"}}}}},"pageContext":{"slug":"/Spring-Learn-IoC-And-DI/","nextSlug":"/Spring-Learn-Bean-And-Component/","prevSlug":"/Spring-Learn-Singleton-And-Container/"}},
    "staticQueryHashes": ["1073350324","1956554647","2938748437"]}