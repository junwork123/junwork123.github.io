{
    "componentChunkName": "component---src-templates-blog-template-js",
    "path": "/infra-learn-docker-basic-2nd/",
    "result": {"data":{"cur":{"id":"2add999b-3209-54f9-b9df-090f9a74ccea","html":"<p>지적과 댓글은 언제나 환영합니다!</p>\n<br/>\n<h1 id=\"어플리케이션을-docker로-배포하기\" style=\"position:relative;\"><a href=\"#%EC%96%B4%ED%94%8C%EB%A6%AC%EC%BC%80%EC%9D%B4%EC%85%98%EC%9D%84-docker%EB%A1%9C-%EB%B0%B0%ED%8F%AC%ED%95%98%EA%B8%B0\" aria-label=\"어플리케이션을 docker로 배포하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>어플리케이션을 Docker로 배포하기</h1>\n<p>이번 실습편에서는</p>\n<p>아래 3가지 단계를 통해 도커를 찍먹해볼 것이다.</p>\n<ul>\n<li>\n<p>Docker 이미지 만들기</p>\n</li>\n<li>\n<p>만든 이미지를 실행해보기</p>\n</li>\n<li>\n<p>변경사항을 자동으로 배포하기(심화편)</p>\n</li>\n</ul>\n<br>\n<hr>\n<h2 id=\"1-docker-이미지-만들기\" style=\"position:relative;\"><a href=\"#1-docker-%EC%9D%B4%EB%AF%B8%EC%A7%80-%EB%A7%8C%EB%93%A4%EA%B8%B0\" aria-label=\"1 docker 이미지 만들기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. Docker 이미지 만들기</h2>\n<br>\n<p>Docker 컨테이너는 Docker 이미지를 기반으로 실행된다.</p>\n<p>우리가 만든 어플리케이션을 Docker 이미지로 직접 만들어보자.</p>\n<br>\n<p>우선, 어플리케이션을 빌드한 결과물을 가지고 있어야한다.</p>\n<p>필자는 <code class=\"language-text\">IntelliJ</code>에서 <code class=\"language-text\">Spring Boot</code> 어플리케이션을 <code class=\"language-text\">Jar파일</code>로 만들것이다.</p>\n<p>만드는 방법은 <a href=\"https://www.junwork.net/How-to-build-jar/\">필자가 정리한 글</a>에서 확인할 수 있다.</p>\n<br>\n<p>(만약, 다른 언어나 플랫폼이라면</p>\n<p>자신의 프로젝트에 맞게 빌드 결과물을 얻고 다음 단계를 진행하자.)</p>\n<br>\n<h2 id=\"2-만든-이미지를-실행해보기\" style=\"position:relative;\"><a href=\"#2-%EB%A7%8C%EB%93%A0-%EC%9D%B4%EB%AF%B8%EC%A7%80%EB%A5%BC-%EC%8B%A4%ED%96%89%ED%95%B4%EB%B3%B4%EA%B8%B0\" aria-label=\"2 만든 이미지를 실행해보기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. 만든 이미지를 실행해보기</h2>\n<p>프로젝트 최상위 디렉토리에</p>\n<p><code class=\"language-text\">dockerfile</code>을 아래와 같은 내용으로생성하자.</p>\n<br>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">FROM adoptopenjdk/openjdk11\nCMD <span class=\"token punctuation\">[</span><span class=\"token string\">\"./mvnw\"</span>, <span class=\"token string\">\"clean\"</span>, <span class=\"token string\">\"package\"</span><span class=\"token punctuation\">]</span>\nARG <span class=\"token assign-left variable\">JAR_FILE_PATH</span><span class=\"token operator\">=</span>target/*.jar\nCOPY <span class=\"token variable\">${JAR_FILE_PATH}</span> app.jar\nENTRYPOINT <span class=\"token punctuation\">[</span><span class=\"token string\">\"java\"</span>, <span class=\"token string\">\"-jar\"</span>, <span class=\"token string\">\"app.jar\"</span><span class=\"token punctuation\">]</span></code></pre></div>\n<br>\n<p>그리고 빌드해보자.</p>\n<br>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> build -t docker-example:0.0.1 <span class=\"token builtin class-name\">.</span></code></pre></div>\n<br>\n<p>images 명령어로 docker이미지가 제대로 만들어 졌는지 확인한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> images</code></pre></div>\n<br>\n<p>드디어 Docker 이미지를 실행하는 순간이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"> <span class=\"token function\">docker</span> run docker-example:0.0.1</code></pre></div>\n<br>\n<p>Dokcer가 잘 동작하는지 확인했다면,</p>\n<p>어플리케이션이 잘 동작하는지 확인도 해보자.</p>\n<p>(아래 방법은 예시일 뿐이니 각자 방법으로 자신의 앱에 테스트해보자!)</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">curl</span> localhost:8080/</code></pre></div>\n<br>\n<hr>\n<br>\n<p>지금까지 어플리케이션을 Dockerfile을 통해</p>\n<p>Docker 이미지로 생성해보았다.</p>\n<br>\n<p>하지만, 소스코드의 내용이 변경되면, 다시 위 과정을 거쳐야한다.</p>\n<p>변경사항을 자동으로 배포할 수는 없을까?</p>\n<p>다음 실습편을 통해 배워보도록 하자</p>\n<br>\n<p><em>출처</em></p>\n<p><em><a href=\"https://da2uns2.tistory.com/entry/Docker-%EB%8F%84%EC%BB%A4-%EC%8B%9C%EC%9E%91%ED%95%98%EA%B8%B0-2-%EB%8F%84%EC%BB%A4-%EA%B8%B0%EB%B3%B8-%EB%AA%85%EB%A0%B9%EC%96%B4\">[Docker] 도커 시작하기 - 2. 도커 기본 명령어 (tistory.com)</a></em></p>\n<p><em><a href=\"https://subicura.com/2017/01/19/docker-guide-for-beginners-2.html\">초보를 위한 도커 안내서 - 설치하고 컨테이너 실행하기 (subicura.com)</a></em></p>\n<p><em><a href=\"https://subicura.com/2017/02/10/docker-guide-for-beginners-create-image-and-deploy.html\">초보를 위한 도커 안내서 - 이미지 만들고 배포하기 (subicura.com)</a></em></p>\n<p><em><a href=\"https://umanking.github.io/2021/07/11/spring-boot-docker-starter/\">Spring Boot, Dockerfile로 이미지 생성, 배포하기 | 개발 저장소 (umanking.github.io)</a></em></p>\n<p><em><a href=\"https://spring.io/guides/topicals/spring-boot-docker\">Topical Guide | Spring Boot Docker</a></em></p>\n<p><em><a href=\"https://docs.docker.com/engine/reference/builder/\">Dockerfile reference | Docker Documentation</a></em></p>\n<br/>\n<hr>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#1-docker-%EC%9D%B4%EB%AF%B8%EC%A7%80-%EB%A7%8C%EB%93%A4%EA%B8%B0\">1. Docker 이미지 만들기</a></li>\n<li><a href=\"#2-%EB%A7%8C%EB%93%A0-%EC%9D%B4%EB%AF%B8%EC%A7%80%EB%A5%BC-%EC%8B%A4%ED%96%89%ED%95%B4%EB%B3%B4%EA%B8%B0\">2. 만든 이미지를 실행해보기</a></li>\n</ul>\n</div>","excerpt":"지적과 댓글은 언제나 환영합니다! 어플리케이션을 Docker로 배포하기 이번 실습편에서는 아래 3가지 단계를 통해 도커를 찍먹해볼 것이다. Docker 이미지 만들기 만든 이미지를 실행해보기 변경사항을 자동으로 배포하기(심화편) 1. Docker 이미지 만들기 Docker 컨테이너는 Docker 이미지를 기반으로 실행된다. 우리가 만든 어플리케이션을 Docker 이미지로 직접 만들어보자. 우선, 어플리케이션을 빌드한 결과물을 가지고 있어야한다. 필자는 에서  어플리케이션을 로 만들것이다. 만드는 방법은 필자가 정리한 글에서 확인할 수 있다. (만약, 다른 언어나 플랫폼이라면 자신의 프로젝트에 맞게 빌드 결과물을 얻고 다음 단계를 진행하자.) 2. 만든 이미지를 실행해보기 프로젝트 최상위 디렉토리에 을 아래와 같은 내용으로생성하자. 그리고 빌드해보자. images 명령어로 docker이미지가 제대로 만들어 졌는지 확인한다. 드디어 Docker 이미지를 실행하는 순간이다. Dokcer…","frontmatter":{"date":"November 06, 2022","title":"Let’s Go Docker(실습편) - 어플리케이션을 Docker로 배포하기","categories":"infra","author":"주녁","emoji":"🔮"},"fields":{"slug":"/infra-learn-docker-basic-2nd/"}},"next":{"id":"bf7fc84a-3997-55a2-b809-71ec77140df2","html":"<p>지적과 댓글은 언제나 환영합니다!</p>\n<p><br/><br/></p>\n<h2 id=\"들어가기에-앞서\" style=\"position:relative;\"><a href=\"#%EB%93%A4%EC%96%B4%EA%B0%80%EA%B8%B0%EC%97%90-%EC%95%9E%EC%84%9C\" aria-label=\"들어가기에 앞서 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>들어가기에 앞서</h2>\n<p>이 글은 jar 파일을 빌드하는 N가지 방법에 대해 다루고 있습니다.</p>\n<p>IntelliJ 환경을 권장하며, 터미널과 콘솔 빌드하는 방법도 추가했습니다.</p>\n<p>(만약, 빠진 부분이나 추가로 알고 계시는 방법이 있다면 댓글로 부탁드립니다!)</p>\n<br>\n<hr>\n<h2 id=\"jar-파일이란\" style=\"position:relative;\"><a href=\"#jar-%ED%8C%8C%EC%9D%BC%EC%9D%B4%EB%9E%80\" aria-label=\"jar 파일이란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Jar 파일이란?</h2>\n<br>\n<p>JAR(Java Archive)는 여러개의 자바 클래스 파일과,</p>\n<p>클래스들이 이용하는 관련 리소스(텍스트, 그림 등) 및 메타데이터를 하나의 파일로 모아서</p>\n<p>자바 플랫폼에 응용 소프트웨어나 라이브러리를 배포하기 위한 소프트웨어 패키지 파일 포맷이다.</p>\n<br>\n<hr>\n<h3 id=\"1-빌드도구가-code-classlanguage-textmavencode인-경우\" style=\"position:relative;\"><a href=\"#1-%EB%B9%8C%EB%93%9C%EB%8F%84%EA%B5%AC%EA%B0%80-code-classlanguage-textmavencode%EC%9D%B8-%EA%B2%BD%EC%9A%B0\" aria-label=\"1 빌드도구가 code classlanguage textmavencode인 경우 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><strong>1. 빌드도구가 <code class=\"language-text\">Maven</code>인 경우</strong></h3>\n<br>\n<p>IntelliJ에서 아래 화면과 같이</p>\n<p><code class=\"language-text\">Maven</code> → <code class=\"language-text\">Lifecycle</code> → <code class=\"language-text\">package</code> 명령어를 실행(더블클릭)하면</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 52.77777777777778%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACHklEQVQoz0WTSZKcMBRE6zxmEgJEUVVikBjEVENHe+EI+wz2wvd/DtRte5FBSIv382eK07zuTOudeXtgx4l+mhncwugW/+3nmeXxxv54+bO2hnYcaE1PbQa0HeiGCTPO2NFxcvsT40ELph8xy53l9c60bkzbzrTfMbPDDj39MKLblouuOV9umL5j3N/Q/Uq3PJm2B6dx3WhNy7Vu0a3xkkVJFIWkIiaVEpULZJIgZU6W5cg0RaQSpQrm+5Np2bi1HV0/cmr7kc6t3JoP4K1uEWlGEAQeUJ4vFGVFkZWookKpnFJlZIUiyxWN7dmeL1pj0E3L6aIbusExLBtmmNBNh5A5YRh6ySznXF0pqwvluSLPC1RZeoeFUtTDzvL6hnFHdCunw9Gx7s3tjPNK3RoPDIKQVGbeYVlVqHPlgdVVk+UFcRJ75/37T/bvvxm+/mJ6/uB0wOrOYpfdN/wfGJDEH7lFcegBaSoRR34i/RiYfEHXN0bn0LVGNw2na9P53PS40C87rbEImfl1D4dFWaIyQaFKryD44ocdEkmMdat/Vo3p/aYfQN1QWUe/PegOYJoRxzFSSjKVIaQgCiN/F0XRp0J/tm7GHU3PK01n/zr8BC537zD5bDkKA5IkJU4Sv2qSJCRCeOfH3ZFlYwfssrKsd/+O/5Wi3c68P/wfcDgMwwgRhZxVSXm5kGaSKI6IReydHQNjkaI7S9MPdHb0XfwBIEp2j4CNhnAAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"메이븐 빌드 화면\"\n        title=\"메이븐 빌드 화면\"\n        src=\"/static/dff1281e185ef869b6a35c01bf3fd8ca/37523/maven.png\"\n        srcset=\"/static/dff1281e185ef869b6a35c01bf3fd8ca/e9ff0/maven.png 180w,\n/static/dff1281e185ef869b6a35c01bf3fd8ca/f21e7/maven.png 360w,\n/static/dff1281e185ef869b6a35c01bf3fd8ca/37523/maven.png 720w,\n/static/dff1281e185ef869b6a35c01bf3fd8ca/136a2/maven.png 884w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>빌드 결과물이 \\build\\libs 경로 jar파일로 생성된다.</p>\n<br>\n<hr>\n<h3 id=\"2-빌드도구가-code-classlanguage-textgradlecode인-경우\" style=\"position:relative;\"><a href=\"#2-%EB%B9%8C%EB%93%9C%EB%8F%84%EA%B5%AC%EA%B0%80-code-classlanguage-textgradlecode%EC%9D%B8-%EA%B2%BD%EC%9A%B0\" aria-label=\"2 빌드도구가 code classlanguage textgradlecode인 경우 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><strong>2. 빌드도구가 <code class=\"language-text\">Gradle</code>인 경우</strong></h3>\n<p>IntelliJ에서 아래 화면과 같이</p>\n<p><code class=\"language-text\">Gradle</code> → <code class=\"language-text\">Tasks</code> → <code class=\"language-text\">build</code> → <code class=\"language-text\">jar</code> 명령어를 실행(더블클릭)하면</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 62.22222222222222%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAABhUlEQVQoz4WSwXKbQBBE+ZgcIjAgQEYSsCy7WhaEJAc7l1zyAbnl/y8vBSYyIiQ5dC1FVfd0T48jKs2/kJcVhVRUJ0OhFFIbtLEoYym1RlqDUIZLZzFdjbM/ZvwN6eE4EkU1CNaU+oSyLbpuqLShkNU4ZBho24ZSKRzXdVnDZrPBe/LQtaW9fcG23ehOmoF4GkUG9x9QZEWJ43keaxhEgyCgKCX22mPabiRmQt5FBtE7pn8zh+uCuZCU2nB56amb832v+YPDj29nzdnSodSW8/UrbXdDjnEX7mYunTh5Joq2JOHTH4JhGODuJLIT/PiZc6wLPsUV7l6ySR/x+VmS5JPDZSFzh4dCUt86vn2/YruGNK84iHVkYtrh/0qpLz26eUFIjViL+hB5G+P7Pn4QvL++PwoNbxRFlJXi3L9x7V/H/f1ud3ky91KyvGS327HfehyznDTd403RB9GBbLob9nzhZNuxkPnJLAc4cbIjjhOSOCJOEsIwfI88xT5k+cP9zclrgr8AAASQTxfF3q4AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"메이븐 빌드 화면\"\n        title=\"메이븐 빌드 화면\"\n        src=\"/static/9d34fc9e395c3b8bc8dc89665510a34d/37523/gradle.png\"\n        srcset=\"/static/9d34fc9e395c3b8bc8dc89665510a34d/e9ff0/gradle.png 180w,\n/static/9d34fc9e395c3b8bc8dc89665510a34d/f21e7/gradle.png 360w,\n/static/9d34fc9e395c3b8bc8dc89665510a34d/37523/gradle.png 720w,\n/static/9d34fc9e395c3b8bc8dc89665510a34d/b7877/gradle.png 891w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>빌드 결과물이 \\build\\libs 경로 jar파일로 생성된다.</p>\n<br>\n<hr>\n<h3 id=\"3-나는-통일된-방법을-사용하고-싶어요artifacts-사용\" style=\"position:relative;\"><a href=\"#3-%EB%82%98%EB%8A%94-%ED%86%B5%EC%9D%BC%EB%90%9C-%EB%B0%A9%EB%B2%95%EC%9D%84-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B3%A0-%EC%8B%B6%EC%96%B4%EC%9A%94artifacts-%EC%82%AC%EC%9A%A9\" aria-label=\"3 나는 통일된 방법을 사용하고 싶어요artifacts 사용 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><strong>3. 나는 통일된 방법을 사용하고 싶어요!(Artifacts 사용)</strong></h3>\n<br>\n<p>상단 메뉴에서</p>\n<p><code class=\"language-text\">File</code> → <code class=\"language-text\">Project Structure</code> → <code class=\"language-text\">Artifacts</code> → <code class=\"language-text\">+</code> → <code class=\"language-text\">JAR</code> → <code class=\"language-text\">From modules with dependencies</code>를 선택한다.</p>\n<p>실행할 메인 클래스를 지정해주고</p>\n<p><code class=\"language-text\">extract to the target JAR</code> 버튼을 선택하고 OK를 눌러 적용하자.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 44.99999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABJ0lEQVQoz53Ry07CQBSA4b4RBGHBpdN26A3aMi3VYEx0YcDwAG71EVy40hh79T1/U0IIouJl8eUsJudPTkZ7eHzi+SUnK96o32rquqKqK8qqJM8zsvyVfCOjKEuKsvpaVZPlBZp0FboM6A5dxGyFiNbo0ZpRsGQwjunpk512t0+r06XV6W3nR+2THpoXpNh+jOHOCE8viNNzZvMFzjTGTa7x0xv8dIU3X2LYU4QlEdb4W1p0dUdweY99dstUzYmUIlIx0nboDwcM9gyFwciwjtL8aEHD9BKcMCacKaTjbR51UzIy9lkMhXk8KD1Fw3JC1DwlVAmW7e4WDwM/BsU43HyK6YaEicLxJhjS/nXgU7CJNZqw5fiY0t6e+s+g2MZ0Od0sH/pr9B2H/VSL5u570QAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"아티팩트 빌드 화면\"\n        title=\"아티팩트 빌드 화면\"\n        src=\"/static/cdf1aa7868a709bb99e5e37d717bbdbb/37523/artifacts.png\"\n        srcset=\"/static/cdf1aa7868a709bb99e5e37d717bbdbb/e9ff0/artifacts.png 180w,\n/static/cdf1aa7868a709bb99e5e37d717bbdbb/f21e7/artifacts.png 360w,\n/static/cdf1aa7868a709bb99e5e37d717bbdbb/37523/artifacts.png 720w,\n/static/cdf1aa7868a709bb99e5e37d717bbdbb/bcb8c/artifacts.png 879w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<br>\n<p>상단 메뉴에서</p>\n<p><code class=\"language-text\">Build</code> → <code class=\"language-text\">Build Artifacts</code> → <code class=\"language-text\">자신의 Artifacts 설정</code></p>\n<p>→ <code class=\"language-text\">Build</code>를 누르면 된다.</p>\n<br>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 297px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 85%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAIAAABSJhvpAAAACXBIWXMAABnWAAAZ1gEY0crtAAACXElEQVQ4y32S227UMBCG81iw8XF8GB/iOIl3E7ZVCwWE1CvgCiFQuWMRiJehhyseDnm3pYAqpE+WNeNf/4xnmuXd1cmHy5OLn3j0cRhz6HoGph/LMBWpDBgcprVGZ32cNkseSx4LBx3zMJW5Gc+/Ledfx1ffZf+yz9mFSDiElFMeQBupbcoD+uBCGqZ1TH1MmYMKqU/91NBRkgxdzGWzpDyM63k9P4mpb5lomSBMrAhrqVhR/qilYNxYNl0e8zC2lDdUKma1cRFDZ5xH37mQtHWUS/IHVADhUihjXBDKSm2pkE3NMWkwVDF6H5P1IXQ9B12d78SHe0v5Y8JWlK8oJ/wg5hIMgrZgrLZeGWRS/WMLugaFMsoiBy2VuRdj6Fwtu36MdeG24TtPBtrFpNGjjyEm47x1oZbNBDABGv3eHA16ZZ3UFrTlUh2yTADd+x86pxwor8GGCskkzNvjebstdZJTnjbL0fFY1lRAy8Vec6v8G9kwqZnUYFzt1jqwTii7L8QpDGD94cGDNIS2lLV1uvN6KtNmLimlqQx5yMuyyTkx3hK6epAGTz7j6S6efenOdnFP//xLPNv5pzt7usP/0nSvf6S3V6cfr198ujn5cP3s4ubs4vrZxfX2/U335uq/XDbSFeGKCrMKiwqLdGubtjZtBdb4AfkQwpWmpbRlrB+GeZnXm00e+qmUYRwIYzW1Z0XIipB2f9YLPZy0IQKIADAoDSr0Gr2oq4YaPeWKcCAcasrUKRgMyqLQCAYJh/sNsy5aH60Lxvmuzz52v0d62C3jgg/1gbLeoKMCfgH2mCx5YHu1KQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"아티팩트 빌드 화면2\"\n        title=\"아티팩트 빌드 화면2\"\n        src=\"/static/6ac147bff4a1f8cb089fa808d58d1cba/9edad/artifacts2.png\"\n        srcset=\"/static/6ac147bff4a1f8cb089fa808d58d1cba/e9ff0/artifacts2.png 180w,\n/static/6ac147bff4a1f8cb089fa808d58d1cba/9edad/artifacts2.png 297w\"\n        sizes=\"(max-width: 297px) 100vw, 297px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<br>\n<hr>\n<h3 id=\"4-intellij가-아니에요terminal-사용\" style=\"position:relative;\"><a href=\"#4-intellij%EA%B0%80-%EC%95%84%EB%8B%88%EC%97%90%EC%9A%94terminal-%EC%82%AC%EC%9A%A9\" aria-label=\"4 intellij가 아니에요terminal 사용 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><strong>4. IntelliJ가 아니에요!(Terminal 사용)</strong></h3>\n<br>\n<p>단순 Java 어플리케이션인 경우</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># 프로젝트 경로로 이동</span>\n<span class=\"token builtin class-name\">cd</span> <span class=\"token variable\">${프로젝트 경로}</span>\n\n<span class=\"token comment\"># 빌드 결과물 폴더 생성</span>\n<span class=\"token function\">mkdir</span> out/\n\n<span class=\"token comment\"># 클래스파일 생성</span>\njavac -d <span class=\"token variable\">${결과물 위치}</span> <span class=\"token variable\">${메인클래스 경로+파일명}</span>.java\njavac -d ./out Main.java\n\n<span class=\"token comment\"># jar 파일 생성하기</span>\njar cvf <span class=\"token variable\">${생성할 jar 이름}</span>.jar <span class=\"token variable\">${메인클래스 파일명}</span>.class\njar cvf ./out/Main.jar ./out/Main.class\n</code></pre></div>\n<br>\n<p>라이브러리 의존성이 필요한 경우(Spring)</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># Gradle</span>\n./gradlew build\n./gradlew demo-0.0.1-SNAPSHOT.jar\njava -jar demo-0.0.1-SNAPSHOT.jar\n\n<span class=\"token comment\"># Maven</span>\n./mvnw compile\n./mvnw package\njava -jar demo-0.0.1-SNAPSHOT.jar</code></pre></div>\n<br>\n<p>추가로 알면 좋은 명령어</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># 클래스파일 실행하기 </span>\n<span class=\"token comment\"># -cp : 클래스 파일 경로(위와 똑같은 경로)</span>\njava -cp ./out <span class=\"token variable\">${메인클래스 경로+파일명}</span>.java\n\n<span class=\"token comment\"># jar 파일 실행하기</span>\njava -jar <span class=\"token variable\">${생성한 jar 이름}</span>.jar\n\n<span class=\"token comment\"># jar 파일 실행 종료하기</span>\n<span class=\"token function\">ps</span> -ef <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> jar\n<span class=\"token operator\">></span> <span class=\"token punctuation\">(</span>jar 프로세스 <span class=\"token function\">id</span> 출력됨<span class=\"token punctuation\">)</span>\n\n<span class=\"token function\">kill</span> <span class=\"token variable\">${프로세스 id}</span>\n</code></pre></div>\n<p><em>출처</em></p>\n<p><em><a href=\"https://mynameisleeminee.tistory.com/6\">leeminee님 블로그</a></em></p>\n<p><em><a href=\"https://ksr930.tistory.com/204\">ksr930님 블로그</a></em></p>\n<br/>\n<hr>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#%EB%93%A4%EC%96%B4%EA%B0%80%EA%B8%B0%EC%97%90-%EC%95%9E%EC%84%9C\">들어가기에 앞서</a></p>\n</li>\n<li>\n<p><a href=\"#jar-%ED%8C%8C%EC%9D%BC%EC%9D%B4%EB%9E%80\">Jar 파일이란?</a></p>\n<ul>\n<li><a href=\"#1-%EB%B9%8C%EB%93%9C%EB%8F%84%EA%B5%AC%EA%B0%80-maven%EC%9D%B8-%EA%B2%BD%EC%9A%B0\"><strong>1. 빌드도구가 <code class=\"language-text\">Maven</code>인 경우</strong></a></li>\n<li><a href=\"#2-%EB%B9%8C%EB%93%9C%EB%8F%84%EA%B5%AC%EA%B0%80-gradle%EC%9D%B8-%EA%B2%BD%EC%9A%B0\"><strong>2. 빌드도구가 <code class=\"language-text\">Gradle</code>인 경우</strong></a></li>\n<li><a href=\"#3-%EB%82%98%EB%8A%94-%ED%86%B5%EC%9D%BC%EB%90%9C-%EB%B0%A9%EB%B2%95%EC%9D%84-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B3%A0-%EC%8B%B6%EC%96%B4%EC%9A%94artifacts-%EC%82%AC%EC%9A%A9\"><strong>3. 나는 통일된 방법을 사용하고 싶어요!(Artifacts 사용)</strong></a></li>\n<li><a href=\"#4-intellij%EA%B0%80-%EC%95%84%EB%8B%88%EC%97%90%EC%9A%94terminal-%EC%82%AC%EC%9A%A9\"><strong>4. IntelliJ가 아니에요!(Terminal 사용)</strong></a></li>\n</ul>\n</li>\n</ul>\n</div>","frontmatter":{"date":"November 04, 2022","title":"Jar 파일 빌드하는 법 정리","categories":"how-to","author":"주녁","emoji":"🔮"},"fields":{"slug":"/build-jar/"}},"prev":{"id":"69b9ece9-e1cd-577d-9f91-da385d267d94","html":"<p>지적과 댓글은 언제나 환영합니다!</p>\n<br/>\n<h1 id=\"변경사항을-docker로-자동-배포하기\" style=\"position:relative;\"><a href=\"#%EB%B3%80%EA%B2%BD%EC%82%AC%ED%95%AD%EC%9D%84-docker%EB%A1%9C-%EC%9E%90%EB%8F%99-%EB%B0%B0%ED%8F%AC%ED%95%98%EA%B8%B0\" aria-label=\"변경사항을 docker로 자동 배포하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>변경사항을 Docker로 자동 배포하기</h1>\n<p>변경사항을 감지하고 배포하려면</p>\n<p>CI/CD 파이프라인 구축을 먼저 알아야한다.</p>\n<br>\n<p>CI/CD 파이프라인을 구축하는 방법은</p>\n<p>버전 관리 플랫폼별로 다르다.</p>\n<br>\n<p>대표적으로 Github Action, Gitlab, Terraform 등이 있으나</p>\n<p>Github Action으로 진행해보도록 하겠다.</p>\n<br>\n<hr>\n<h2 id=\"github-action을-이용한-cicd\" style=\"position:relative;\"><a href=\"#github-action%EC%9D%84-%EC%9D%B4%EC%9A%A9%ED%95%9C-cicd\" aria-label=\"github action을 이용한 cicd permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Github Action을 이용한 CI/CD</h2>\n<br>\n<p>Github는 사용자가 CI/CD 도구를 직접 통합해야 한다.</p>\n<p>선택지로 Jenkins, CircleCI, TravisCI 등이 있다</p>\n<br>\n<p>필자는 현재 이 블로그도 Github Action으로 자동 배포하고 있다.</p>\n<p>그 때의 <a href=\"https://www.junwork.net/blog-build-deploy-2/\">빌드 스크립트</a>를 재활용해보자.</p>\n<p>자세한 설명은 주석을 참고하자.</p>\n<br>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"># 알아두기\n중간중간 보이는 secret들은 저장소 내 환경변수로,\nRepository 상단 Settings > Secrets에서 설정할 수 있다.</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> App Deployment <span class=\"token comment\"># 이 스크립트의 제목</span>\n\n<span class=\"token comment\"># 어떤 행동을 할때마다 실행할지</span>\n<span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span>\n  <span class=\"token comment\"># master, release/v*라는 이름의 브랜치에 push가 발생할 때마다</span>\n  <span class=\"token comment\"># ex) release/v0.1, release/v2.1.5</span>\n  <span class=\"token key atrule\">push</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">branches</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> master\n      <span class=\"token punctuation\">-</span> release/v*\n\n  <span class=\"token comment\"># feature, fix 브랜치에 pull_request가 발생할 때마다</span>\n  <span class=\"token key atrule\">pull_request</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">branches</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> feature<span class=\"token punctuation\">-</span>*\n      <span class=\"token punctuation\">-</span> fix<span class=\"token punctuation\">-</span>*\n\n<span class=\"token comment\"># 실행할 작업을 순서대로 정의함</span>\n<span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">build</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest\n    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\n    \n    <span class=\"token comment\"># 체크아웃</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> checkout\n      <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/checkout@v3\n\n    <span class=\"token comment\"># JDK 설치</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Set up JDK 11\n      <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/setup<span class=\"token punctuation\">-</span>java@v3\n      <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">java-version</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'11'</span>\n        <span class=\"token key atrule\">distribution</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'temurin'</span>\n\n    <span class=\"token comment\"># DB 설정 파일 생성</span>\n    <span class=\"token comment\"># 중요 정보는 Github Secret에서 복사해온다.</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> make application<span class=\"token punctuation\">-</span>database.yaml\n      <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\">\n        # create application-database.yaml\n        cd ./src/main/resources</span>\n\n        <span class=\"token comment\"># application-database.yaml 파일 생성</span>\n        touch ./application<span class=\"token punctuation\">-</span>database.yaml\n\n        <span class=\"token comment\"># GitHub-Actions 에서 설정한 값을 application-database.yaml 파일에 쓰기</span>\n        echo \"$<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.DATABASE <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\" <span class=\"token punctuation\">></span><span class=\"token punctuation\">></span> ./application<span class=\"token punctuation\">-</span>database.yaml\n      <span class=\"token key atrule\">shell</span><span class=\"token punctuation\">:</span> bash\n\n    <span class=\"token comment\"># gradle 빌드</span>\n    <span class=\"token comment\"># maven 빌드 : mvn package</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Build with Gradle\n      <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> ./gradlew bootJar\n\n\n    <span class=\"token comment\"># 웹 이미지 빌드 및 도커허브에 push</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> web docker build and push\n      <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\">\n        docker login -u ${{ secrets.DOCKER_USERNAME }} -p ${{ secrets.DOCKER_PASSWORD }}\n        docker build -t ${{ secrets.DOCKER_REPO }}/second-eyes-web .\n        docker push ${{ secrets.DOCKER_REPO }}/second-eyes-web</span></code></pre></div>\n<p>위 스크립트를 Github Action을 통해 동작시키면</p>\n<p><code class=\"language-text\">빌드</code> -> <code class=\"language-text\">배포</code> -> <code class=\"language-text\">도커 이미지화</code>까지 한번에 처리할 수 있다.</p>\n<p>추가적으로 실행까지 하려면 아래 Docker Compose 스크립트를 추가하면 된다.</p>\n<p>Docker Compose의 개념이 생소할 수 있겠지만,</p>\n<p>실행 정보까지 추가해주는 것으로 생각하면 좋다.</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\">    <span class=\"token comment\">## docker compose up</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> executing remote ssh commands using password\n      <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> appleboy/ssh<span class=\"token punctuation\">-</span>action@master\n      <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">host</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.HOST <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n        <span class=\"token key atrule\">username</span><span class=\"token punctuation\">:</span> ubuntu\n        <span class=\"token key atrule\">key</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.KEY <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n        <span class=\"token key atrule\">script</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\">\n          sudo docker rm -f $(docker ps -qa)\n          sudo docker pull ${{ secrets.DOCKER_REPO }}/second-eyes-web\n          sudo docker pull ${{ secrets.DOCKER_REPO }}/second-eyes-nginx\n          docker-compose up -d\n          docker image prune -f</span></code></pre></div>\n<br>\n<br>\n<hr>\n<p><em>출처</em></p>\n<p><em><a href=\"https://devlog-wjdrbs96.tistory.com/361\">wjdrbs96님 블로그</a></em></p>\n<p><em><a href=\"https://stalker5217.netlify.app/devops/github-action-aws-ci-cd-1/\">stalker5217님 블로그</a></em></p>\n<p><em><a href=\"https://velog.io/@rmswjdtn/Spring-Docker-Github-Action-Spring-Boot-%EC%9E%90%EB%8F%99%EB%B0%B0%ED%8F%AC%ED%99%98%EA%B2%BD-%EB%A7%8C%EB%93%A4%EA%B8%B0\">rmswjdtn님 블로그</a></em></p>\n<br/>\n<hr>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#github-action%EC%9D%84-%EC%9D%B4%EC%9A%A9%ED%95%9C-cicd\">Github Action을 이용한 CI/CD</a></li>\n</ul>\n</div>","frontmatter":{"date":"November 16, 2022","title":"Let’s Go Docker(심화편) - 변경사항을 Docker로 자동 배포하기","categories":"infra","author":"주녁","emoji":"🔮"},"fields":{"slug":"/infra-learn-docker-basic-3th/"}},"site":{"siteMetadata":{"siteUrl":"https://www.junwork.net","comments":{"utterances":{"repo":"junwork123/blog-comments"}}}}},"pageContext":{"slug":"/infra-learn-docker-basic-2nd/","nextSlug":"/build-jar/","prevSlug":"/infra-learn-docker-basic-3th/"}},
    "staticQueryHashes": ["1073350324","1956554647","2938748437"]}