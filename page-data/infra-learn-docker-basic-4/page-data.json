{
    "componentChunkName": "component---src-templates-blog-template-js",
    "path": "/infra-learn-docker-basic-4/",
    "result": {"data":{"cur":{"id":"7d858f2a-d198-513d-a501-0ae6c4d7461f","html":"<p>ì§€ì ê³¼ ëŒ“ê¸€ì€ ì–¸ì œë‚˜ í™˜ì˜í•©ë‹ˆë‹¤!</p>\n<br>\n<h1 id=\"docker-ê³µì‹ë¬¸ì„œ-ê°™ì´ì½ê¸°\" style=\"position:relative;\"><a href=\"#docker-%EA%B3%B5%EC%8B%9D%EB%AC%B8%EC%84%9C-%EA%B0%99%EC%9D%B4%EC%9D%BD%EA%B8%B0\" aria-label=\"docker ê³µì‹ë¬¸ì„œ ê°™ì´ì½ê¸° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Docker ê³µì‹ë¬¸ì„œ ê°™ì´ì½ê¸°</h1>\n<p><a href=\"https://docs.docker.com/engine/reference/builder/\">ë„ì»¤ ê³µì‹ë¬¸ì„œ</a>ë¥¼ ë²ˆì—­ ë° ìš”ì•½í•´ë³´ì•˜ë‹¤!</p>\n<p>ìµœëŒ€í•œ ì‹ ì¤‘íˆ ë²ˆì—­í•˜ë ¤ê³  ë…¸ë ¥í–ˆì§€ë§Œ ì‹¤ìˆ˜ê°€ ìˆë‹¤ë©´ ë„ˆê·¸ëŸ½ê²Œ ëŒ“ê¸€ë¡œ ì§€ì í•´ì£¼ì‹œê¸¸ ë°”ë€ë‹¤!</p>\n<br>\n<p>P.S</p>\n<p>ì¶”ê°€ë¡œ ì›ë¬¸ì„ ì§ì ‘ ì½ì–´ë³´ì…”ë„ í° ë„ì›€ì´ ë  ê²ƒì´ë¼ê³  ìƒê°í•œë‹¤.</p>\n<br>\n<hr>\n<h2 id=\"format\" style=\"position:relative;\"><a href=\"#format\" aria-label=\"format permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Format</h2>\n<ul>\n<li>\n<p>ëª…ë ¹ì–´(Instruction)</p>\n<ul>\n<li>ëª…ë ¹ì–´ëŠ” ëŒ€ë¬¸ìë¡œ ì‘ì„±í•œë‹¤.</li>\n<li>ë„ì»¤ ëª…ë ¹ì–´ëŠ” ëŒ€ì†Œë¬¸ì êµ¬ë¶„ì´ ì—†ì§€ë§Œ, argumentsì™€ ì‰½ê²Œ êµ¬ë¶„í•˜ê¸° ìœ„í•´ì„œ ê¶Œì¥í•œë‹¤.</li>\n</ul>\n</li>\n<li>\n<p>ì£¼ì„</p>\n<ul>\n<li>ì£¼ì„ì€ â€˜#â€™ìœ¼ë¡œ ì‘ì„±</li>\n<li>ì£¼ì„ê³¼ ê³µë°±ì€ ì‹¤í–‰ ì „ì— ì œê±°ë˜ì–´ ì‹¤í–‰ëœë‹¤.</li>\n<li>í•˜ì§€ë§Œ ê³µë°±ì´ ëª…ë ¹ì–´ì˜ argumentsë¼ë©´ ìœ ì§€ëœë‹¤.\n<div class=\"gatsby-highlight\" data-language=\"docker\"><pre class=\"language-docker\"><code class=\"language-docker\"><span class=\"token comment\"># ì‹¤í–‰ ì „</span>\n\t\t\t\t<span class=\"token comment\"># this is a comment-line</span>\n    <span class=\"token instruction\"><span class=\"token keyword\">RUN</span> echo hello</span>\n<span class=\"token instruction\"><span class=\"token keyword\">RUN</span> echo <span class=\"token string\">\"\\\n     hello\\\n     world\"</span></span>\n\n<span class=\"token comment\"># ì‹¤í–‰ í›„</span>\n<span class=\"token comment\"># this is a comment-line</span>\n<span class=\"token instruction\"><span class=\"token keyword\">RUN</span> echo hello</span>\n<span class=\"token instruction\"><span class=\"token keyword\">RUN</span> echo <span class=\"token string\">\"\\\n     hello\\\n     world\"</span></span></code></pre></div>\n</li>\n</ul>\n</li>\n<li>\n<p>íŒŒì„œ ì§€ì‹œë¬¸(Parse Directive)</p>\n<ul>\n<li>Parse DirectiveëŠ” íŠ¹ë³„í•œ ì¢…ë¥˜ì˜ ì£¼ì„ìœ¼ë¡œ ì´ ì§€ì‹œì–´ ì•„ë«ì¤„ë¶€í„° ì˜í–¥ì„ ì¤€ë‹¤. (í•„ìˆ˜ X)</li>\n<li>Parse Directiveì—ëŠ” <code class=\"language-text\">syntax</code> ì™€ <code class=\"language-text\">escape</code> 2ê°€ì§€ ìš©ë²•ì´ ìˆë‹¤.\n<ul>\n<li><code class=\"language-text\">syntax</code> ëŠ” ì‚¬ìš©í•˜ê³ ì í•˜ëŠ” íŠ¹ì • Dockerfile ì´ë¯¸ì§€ë¥¼ ì§€ì •í•  ë•Œ ì“´ë‹¤. (<a href=\"https://docs.docker.com/build/buildkit/\">BuildKit</a> í•„ìš”)</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"docker\"><pre class=\"language-docker\"><code class=\"language-docker\"><span class=\"token comment\"># syntax=docker/dockerfile:1</span>\n<span class=\"token comment\"># syntax=docker.io/docker/dockerfile:1</span>\n<span class=\"token comment\"># syntax=example.com/user/repo:tag@sha256:abcdef...</span></code></pre></div>\n<ul>\n<li><code class=\"language-text\">escape</code> ëŠ” Dockerfileì˜ ê°œí–‰ë¬¸ìë¥¼ ì§€ì •í• ë•Œ ì‚¬ìš©í•œë‹¤.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"docker\"><pre class=\"language-docker\"><code class=\"language-docker\"><span class=\"token comment\"># escape=`</span>\n\n<span class=\"token instruction\"><span class=\"token keyword\">FROM</span> microsoft/nanoserver</span>\n<span class=\"token instruction\"><span class=\"token keyword\">COPY</span> testfile.txt c:<span class=\"token operator\">\\</span>\nRUN dir c:<span class=\"token operator\">\\</span></span></code></pre></div>\n</li>\n<li>Parse DirectiveëŠ” Build ë‹¨ê³„ì—ì„œ ë ˆì´ì–´ë¥¼ ì¶”ê°€í•˜ê±°ë‚˜ ë³´ì—¬ì§€ì§€ëŠ” ì•ŠëŠ”ë‹¤.</li>\n<li>Parse DirectiveëŠ” ì´í›„ ë¹ˆ ë¼ì¸ì´ ë‚˜íƒ€ë‚˜ê±°ë‚˜ ëª…ë ¹ì–´ê°€ ì‹¤í–‰ë˜ë©´, ë‚˜ë¨¸ì§€ Parse DirectiveëŠ” ì£¼ì„ìœ¼ë¡œ ê°„ì£¼ëœë‹¤.\n<em>(Once a comment, empty line or builder instruction has been processed, Docker no longer looks for parser directives)</em>\n<div class=\"gatsby-highlight\" data-language=\"docker\"><pre class=\"language-docker\"><code class=\"language-docker\"><span class=\"token comment\"># ì´ ì£¼ì„ìœ¼ë¡œ ì•„ë˜ Parse Directiveê°€ ë¬´íš¨ê°€ ë¨. (ì˜ëª»ëœ ì˜ˆì‹œ)</span>\n<span class=\"token comment\"># directive=value</span>\n<span class=\"token instruction\"><span class=\"token keyword\">FROM</span> ImageName</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"docker\"><pre class=\"language-docker\"><code class=\"language-docker\"><span class=\"token comment\"># unknowndirective=value</span>\n<span class=\"token comment\"># knowndirective=value</span>\n<span class=\"token comment\"># ì¸ì‹ë˜ì§€ ëª»í•œ Parse DirectiveëŠ” ì£¼ì„ìœ¼ë¡œ ì²˜ë¦¬ë˜ì–´</span>\n<span class=\"token comment\"># ë‹¤ìŒ ì¤„ 'knowndirective=value'ê¹Œì§€ ë¬´íš¨ ì²˜ë¦¬ê°€ ëœë‹¤. (ì˜ëª»ëœ ì˜ˆì‹œ)</span></code></pre></div>\n</li>\n<li>ë•Œë¬¸ì—, Dockerfile ìµœìƒë‹¨ì— ìœ„ì¹˜í•´ì•¼í•˜ë©° Parse Directiveë¼ë¦¬ ê³µë°±ì—†ì´ ë¶™ì—¬ì„œ ì‘ì„±í•œ ì´í›„ì— ê³µë°± ë¼ì¸ì„ ì£¼ëŠ” ê²ƒì„ ì›ì¹™ìœ¼ë¡œ í•œë‹¤.</li>\n<li>ë‹¨ì¼ ì§€ì‹œë¬¸ì€ í•œë²ˆë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.(ê°™ì€ ì§€ì‹œë¬¸ ë‘ë²ˆ ì‚¬ìš© X)</li>\n<li>ì†Œë¬¸ìë¡œ ì‘ì„±í•˜ëŠ” ê²ƒì´ ê¶Œì¥ëœë‹¤.</li>\n</ul>\n</li>\n<li>\n<p>Environment replacement</p>\n<ul>\n<li>í™˜ê²½ ë³€ìˆ˜ëŠ” <code class=\"language-text\">ENV</code> í‚¤ì›Œë“œì™€ í•¨ê»˜ ì“°ì¸ë‹¤.</li>\n<li>ì‚¬ìš© í˜•íƒœëŠ” 2ê°€ì§€ë¥¼ í—ˆìš©í•œë‹¤. <code class=\"language-text\">$variable_name</code>, <code class=\"language-text\">${variable_name}</code>\n<div class=\"gatsby-highlight\" data-language=\"docker\"><pre class=\"language-docker\"><code class=\"language-docker\"><span class=\"token instruction\"><span class=\"token keyword\">FROM</span> busybox</span>\n<span class=\"token instruction\"><span class=\"token keyword\">ENV</span> FOO=/bar</span>\n<span class=\"token instruction\"><span class=\"token keyword\">WORKDIR</span> <span class=\"token variable\">${FOO}</span>   # WORKDIR /bar</span>\n<span class=\"token instruction\"><span class=\"token keyword\">ADD</span> . <span class=\"token variable\">$FOO</span>       # ADD . /bar</span>\n<span class=\"token instruction\"><span class=\"token keyword\">COPY</span> <span class=\"token operator\">\\</span><span class=\"token variable\">$FOO</span> /quux # COPY <span class=\"token variable\">$FOO</span> /quux</span></code></pre></div>\n</li>\n<li><code class=\"language-text\">${variable:-word}</code> : variableì´ ì •ì˜ë˜ì–´ ìˆë‹¤ë©´ variable, ê·¸ë ‡ì§€ ì•Šë‹¤ë©´ wordë¥¼ ì‚¬ìš©í•œë‹¤.</li>\n<li><code class=\"language-text\">${variable:+word}</code> : variableì´ ì •ì˜ë˜ì–´ ìˆë‹¤ë©´ word, ê·¸ë ‡ì§€ ì•Šë‹¤ë©´ empty stringë¥¼ ë°˜í™˜.</li>\n<li><code class=\"language-text\">\\${foo}</code> ì²˜ëŸ¼ <code class=\"language-text\">\\</code> ê°€ ì•ì— ë¶™ëŠ” ê²½ìš°ëŠ” ë¬¸ì ê·¸ëŒ€ë¡œ ë²ˆì—­ë˜ë¯€ë¡œ ì£¼ì˜ê°€ í•„ìš”í•˜ë‹¤</li>\n<li>í™˜ê²½ë³€ìˆ˜ ê°’ì„ í™•ì¸í•˜ê³  ë³€ê²½í•˜ê¸°\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># í™˜ê²½ë³€ìˆ˜ í™•ì¸í•˜ê¸°</span>\n$ <span class=\"token function\">docker</span> inspect\n\n<span class=\"token comment\"># í™˜ê²½ë³€ìˆ˜ ë³€ê²½í•˜ê¸°</span>\n<span class=\"token function\">docker</span> run --env <span class=\"token operator\">&lt;</span>key<span class=\"token operator\">>=</span><span class=\"token operator\">&lt;</span>value<span class=\"token operator\">></span></code></pre></div>\n</li>\n<li><strong>ì´ëŸ¬í•œ í™˜ê²½ ë³€ìˆ˜ì—ëŠ” ì´ë¯¸ì§€ê°€ ë³€ê²½ë˜ì§€ ì•Šë„ë¡ ì£¼ì˜ê°€ í•„ìš”í•˜ë‹¤.</strong>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># ì˜ëª»ëœ ì˜ˆì‹œ(ì´ë¯¸ì§€ê°€ ì¤‘ê°„ì— ë³€ê²½ë˜ì–´ í˜¼ë™ì„ ì¤„ ìˆ˜ ìˆë‹¤)</span>\nRUN <span class=\"token assign-left variable\">DEBIAN_FRONTEND</span><span class=\"token operator\">=</span>noninteractive <span class=\"token function\">apt-get</span> update <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">apt-get</span> <span class=\"token function\">install</span> -y <span class=\"token punctuation\">..</span>.</code></pre></div>\n</li>\n</ul>\n</li>\n<li>\n<p>dockerignore file</p>\n<ul>\n<li>ë„ì»¤ ë°ëª¬ì´ ë™ì‘í•˜ëŠ” ê³¼ì •ì—ì„œ ì œì™¸/í¬í•¨í•  íŒŒì¼ì˜ ê·œì¹™ì„ ì •í•œë‹¤.</li>\n<li>root ë””ë ‰í† ë¦¬ì— <code class=\"language-text\">.dockerignore</code> íŒŒì¼ì´ ìˆë‹¤ë©´ ë™ì‘í•˜ëŠ” ë‚´ìš©ì´ë‹¤.\n<div class=\"gatsby-highlight\" data-language=\"docker\"><pre class=\"language-docker\"><code class=\"language-docker\">***/temp***\n<span class=\"token comment\"># rootì˜ ì„œë¸Œ ë””ë ‰í† ë¦¬ ì¤‘</span>\n<span class=\"token comment\"># tempë¡œ ì‹œì‘í•˜ëŠ” íŒŒì¼ê³¼ ë””ë ‰í† ë¦¬ ë‘˜ë‹¤ ì œì™¸í•œë‹¤.</span>\n<span class=\"token comment\"># ignore /somedir/temporary.txt</span>\n<span class=\"token comment\"># ignore /somedir/temp</span>\n\n***/*/temp***\n<span class=\"token comment\"># rootì˜ 2ë ˆë²¨ ì´í•˜ì˜ ì„œë¸Œ ë””ë ‰í† ë¦¬ ì¤‘</span>\n<span class=\"token comment\"># tempë¡œ ì‹œì‘í•˜ëŠ” íŒŒì¼ê³¼ ë””ë ‰í† ë¦¬ ë‘˜ë‹¤ ì œì™¸í•œë‹¤.</span>\n<span class=\"token comment\"># ignore /somedir/subdir/temporary.txt</span>\n\n**temp?**\n<span class=\"token comment\"># root ë””ë ‰í† ë¦¬ì—ì„œ</span>\n<span class=\"token comment\"># tempë¡œ ì‹œì‘í•˜ëŠ” íŒŒì¼ê³¼ ë””ë ‰í† ë¦¬ ë‘˜ë‹¤ ì œì™¸í•œë‹¤.</span>\n<span class=\"token comment\"># ignore /tempa</span>\n<span class=\"token comment\"># ignore /tempb</span>\n\n***.md\n!README*.md\nREADME-secret.md**\n<span class=\"token comment\"># ëª¨ë“  mdíŒŒì¼ì„ ì œì™¸(exclude)í•˜ë˜</span>\n<span class=\"token comment\"># README*.md í˜•ì‹ì€ ì˜ˆì™¸ë¡œ includeí•œë‹¤.</span>\n<span class=\"token comment\"># ê·¸ ì¤‘ì—ì„œë„ README-secret.mdëŠ” ì œì™¸(exclude)ë¡œ í•œë‹¤.</span>\n\t<span class=\"token comment\">#\tìœ ì˜í•  ì  :\tí˜•ì‹ -> case ìˆœìœ¼ë¡œ ì™€ì•¼í•œë‹¤.</span>\n\t<span class=\"token comment\"># ì•„ë˜ì˜ ê²½ìš° ê°€ìš´ë° ì¤„ì€ ë¬´íš¨ê°€ ëœë‹¤.</span>\n\t*.md\n\t**README-secret.md**\n\t!README*.md</code></pre></div>\n</li>\n</ul>\n</li>\n</ul>\n<br>\n<hr>\n<h2 id=\"from\" style=\"position:relative;\"><a href=\"#from\" aria-label=\"from permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>FROM</h2>\n<ul>\n<li>Dockerfile ëª…ë ¹ì–´ì˜ ì‹œì‘ì€ <code class=\"language-text\">FROM</code>ìœ¼ë¡œ ì‹œì‘í•´ì•¼ í•œë‹¤.</li>\n<li><code class=\"language-text\">ARG</code> í‚¤ì›Œë“œë¡œ FROM ì‹œì‘ì „ì— ë³€ìˆ˜ë¥¼ ë§Œë“¤ì–´ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</li>\n<li>ëŒ€ì‹  FROM ëª…ë ¹ì–´ê°€ ëë‚˜ë©´ í•´ë‹¹ ë³€ìˆ˜ëŠ” ë¹Œë“œ ê³¼ì •ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.\n<div class=\"gatsby-highlight\" data-language=\"docker\"><pre class=\"language-docker\"><code class=\"language-docker\"><span class=\"token comment\"># usage</span>\n<span class=\"token comment\"># FROM [--platform=&lt;platform>] &lt;image>[:&lt;tag>] [AS &lt;name>]</span>\n<span class=\"token instruction\"><span class=\"token keyword\">ARG</span> CODE_VERSION=latest</span>\n<span class=\"token instruction\"><span class=\"token keyword\">FROM</span> base:<span class=\"token variable\">${CODE_VERSION}</span> <span class=\"token keyword\">AS</span> baseApp</span>\n<span class=\"token instruction\"><span class=\"token keyword\">CMD</span>  /code/run-app</span></code></pre></div>\n</li>\n</ul>\n<br>\n<hr>\n<h2 id=\"run\" style=\"position:relative;\"><a href=\"#run\" aria-label=\"run permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>RUN</h2>\n<ul>\n<li><code class=\"language-text\">RUN</code> ëª…ë ¹ì–´ëŠ” í•­ìƒ í˜„ì¬ ì´ë¯¸ì§€ì˜ ìµœì‹ ìƒíƒœì—ì„œ ë™ì‘í•œë‹¤.</li>\n<li><code class=\"language-text\">RUN</code> ëª…ë ¹ì–´ì˜ ê²°ê³¼ë¡œ ë³€ê²½ëœ ì´ë¯¸ì§€ëŠ” ë‹¤ìŒ ë‹¨ê³„ì— ë™ì‘í•  Dockerfileì˜ ì´ë¯¸ì§€ì— ê·¸ëŒ€ë¡œ ë°˜ì˜ëœë‹¤.\n<div class=\"gatsby-highlight\" data-language=\"docker\"><pre class=\"language-docker\"><code class=\"language-docker\"><span class=\"token comment\"># í•œì¤„ë¡œ ì“¸ë•Œ</span>\n<span class=\"token instruction\"><span class=\"token keyword\">RUN</span> /bin/bash -c <span class=\"token string\">'source $HOME/.bashrc; echo $HOME'</span></span>\n\n<span class=\"token comment\"># ì—¬ëŸ¬ì¤„ë¡œ ì“¸ë•Œ</span>\n<span class=\"token instruction\"><span class=\"token keyword\">RUN</span> /bin/bash -c <span class=\"token string\">'source $HOME/.bashrc; \\\necho $HOME'</span></span>\n\n<span class=\"token comment\"># JSON í˜•ì‹</span>\n<span class=\"token instruction\"><span class=\"token keyword\">RUN</span> [<span class=\"token string\">\"c:\\\\windows\\\\system32\\\\tasklist.exe\"</span>]</span></code></pre></div>\n</li>\n<li><code class=\"language-text\">RUN</code> ëª…ë ¹ì–´ëŠ” cacheë¥¼ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— ì‹¤í–‰ê²°ê³¼ê°€ ë‹¤ìŒ ë¹Œë“œì—ì„œ ì¬ì‚¬ìš©ë  ìˆ˜ ìˆë‹¤.\n<div class=\"gatsby-highlight\" data-language=\"docker\"><pre class=\"language-docker\"><code class=\"language-docker\"><span class=\"token comment\"># ìºì‹œë¡œ ì´ ëª…ë ¹ì–´ì˜ ê²°ê³¼ê°€ ì¬ì‚¬ìš©ë  ìˆ˜ ìˆë‹¤.</span>\n<span class=\"token instruction\"><span class=\"token keyword\">RUN</span> apt-get dist-upgrade -y</span>\n\n<span class=\"token comment\"># ìºì‹œë¥¼ ë¬´ì‹œí•˜ê³  ë§¤ë²ˆ ì‹¤í–‰í•˜ë ¤ë©´</span>\ndocker build --no-cache</code></pre></div>\n</li>\n<li><code class=\"language-text\">--mount</code> ì˜µì…˜ì€ ì•„ë˜ 4ê°€ì§€ ê²½ìš° build ê³¼ì •ì—ì„œ ìƒì‚°ì„±ì„ ë†’ì´ëŠ” ë°©ë²•ì´ ë  ìˆ˜ ìˆë‹¤\n<ul>\n<li><code class=\"language-text\">bind</code> : Default ì˜µì…˜, ê¸°ì¡´ì— ìˆë˜ íŒŒì¼ì„ ì¬ì‚¬ìš©í•  ë•Œ</li>\n<li><code class=\"language-text\">cache</code> : ë¹Œë“œ ì‹œ ì»´íŒŒì¼ëŸ¬, íŒ¨í‚¤ì§€ë§¤ë‹ˆì €ì—ì„œ ìºì‹œ ë””ë ‰í† ë¦¬ë¥¼ í™œìš©í•˜ê³  ì‹¶ì„ë•Œ\n<div class=\"gatsby-highlight\" data-language=\"docker\"><pre class=\"language-docker\"><code class=\"language-docker\"><span class=\"token comment\"># syntax=docker/dockerfile:1</span>\n\n<span class=\"token comment\">#cache apt packages</span>\n<span class=\"token instruction\"><span class=\"token keyword\">FROM</span> ubuntu</span>\n<span class=\"token instruction\"><span class=\"token keyword\">RUN</span> rm -f /etc/apt/apt.conf.d/docker-clean; echo <span class=\"token string\">'Binary::apt::APT::Keep-Downloaded-Packages \"true\";'</span> > /etc/apt/apt.conf.d/keep-cache</span>\n<span class=\"token instruction\"><span class=\"token keyword\">RUN</span> **--mount=type=cache**,target=/var/cache/apt,sharing=locked <span class=\"token operator\">\\</span>\n  --mount=type=cache,target=/var/lib/apt,sharing=locked <span class=\"token operator\">\\</span>\n  apt update &amp;&amp; apt-get --no-install-recommends install -y gcc</span></code></pre></div>\n</li>\n<li><code class=\"language-text\">secret</code> : ë¹Œë“œ ì‹œ secret íŒŒì¼ì— ì ‘ê·¼í•˜ê³  ë³µì‚¬í•  ë•Œ\n<div class=\"gatsby-highlight\" data-language=\"docker\"><pre class=\"language-docker\"><code class=\"language-docker\"><span class=\"token comment\"># syntax=docker/dockerfile:1</span>\n\n<span class=\"token comment\"># access to S3</span>\n<span class=\"token instruction\"><span class=\"token keyword\">FROM</span> python:3</span>\n<span class=\"token instruction\"><span class=\"token keyword\">RUN</span> pip install awscli</span>\n<span class=\"token instruction\"><span class=\"token keyword\">RUN</span> **--mount=type=secret**,id=aws,target=/root/.aws/credentials <span class=\"token operator\">\\</span>\n  aws s3 cp s3://... ...</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># bash</span>\n$ <span class=\"token function\">docker</span> buildx build --secret <span class=\"token assign-left variable\">id</span><span class=\"token operator\">=</span>aws,src<span class=\"token operator\">=</span><span class=\"token environment constant\">$HOME</span>/.aws/credentials <span class=\"token builtin class-name\">.</span></code></pre></div>\n</li>\n<li><code class=\"language-text\">ssh</code> : ë¹Œë“œ ì‹œ ssh íŒŒì¼ì— ì ‘ê·¼í•˜ê³  ë³µì‚¬í•  ë•Œ\n<div class=\"gatsby-highlight\" data-language=\"docker\"><pre class=\"language-docker\"><code class=\"language-docker\"><span class=\"token comment\"># syntax=docker/dockerfile:1</span>\n\n<span class=\"token comment\"># access to Gitlab</span>\n<span class=\"token instruction\"><span class=\"token keyword\">FROM</span> alpine</span>\n<span class=\"token instruction\"><span class=\"token keyword\">RUN</span> apk add --no-cache openssh-client</span>\n<span class=\"token instruction\"><span class=\"token keyword\">RUN</span> mkdir -p -m 0700 ~/.ssh &amp;&amp; ssh-keyscan gitlab.com >> ~/.ssh/known_hosts</span>\n<span class=\"token instruction\"><span class=\"token keyword\">RUN</span> **--mount=type=ssh** <span class=\"token operator\">\\</span>\n  ssh -q -T git@gitlab.com 2>&amp;1 | tee /hello</span>\n<span class=\"token comment\"># \"Welcome to GitLab, @GITLAB_USERNAME_ASSOCIATED_WITH_SSHKEY\" should be printed here</span>\n<span class=\"token comment\"># with the type of build progress is defined as `plain`.</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># bash</span>\n$ <span class=\"token builtin class-name\">eval</span> <span class=\"token variable\"><span class=\"token variable\">$(</span>ssh-agent<span class=\"token variable\">)</span></span>\n$ ssh-add ~/.ssh/id_rsa\n<span class=\"token punctuation\">(</span>Input your passphrase here<span class=\"token punctuation\">)</span>\n$ <span class=\"token function\">docker</span> buildx build --ssh <span class=\"token assign-left variable\">default</span><span class=\"token operator\">=</span><span class=\"token environment constant\">$SSH_AUTH_SOCK</span> <span class=\"token builtin class-name\">.</span></code></pre></div>\n</li>\n</ul>\n</li>\n<li><code class=\"language-text\">--network</code> ì˜µì…˜ì€ ì»¤ë§¨ë“œê°€ ë™ì‘í•˜ê³  ìˆëŠ” ë„¤íŠ¸ì›Œí¬ í™˜ê²½ì„ ì»¨íŠ¸ë¡¤í•  ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤.\n<div class=\"gatsby-highlight\" data-language=\"docker\"><pre class=\"language-docker\"><code class=\"language-docker\"><span class=\"token comment\"># syntax=docker/dockerfile:1</span>\n\n<span class=\"token comment\"># isolating external effects</span>\n<span class=\"token instruction\"><span class=\"token keyword\">FROM</span> python:3.6</span>\n<span class=\"token instruction\"><span class=\"token keyword\">ADD</span> mypackage.tgz wheels/</span>\n<span class=\"token instruction\"><span class=\"token keyword\">RUN</span> **--network=none** pip install --find-links wheels mypackage</span></code></pre></div>\n</li>\n</ul>\n<br>\n<hr>\n<h2 id=\"cmd\" style=\"position:relative;\"><a href=\"#cmd\" aria-label=\"cmd permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>CMD</h2>\n<ul>\n<li>CMD ëª…ë ¹ì–´ì˜ ì£¼ ëª©ì ì€ ì‹¤í–‰ì¤‘ì¸ ì»¨í…Œì´ë„ˆì—ê²Œ ê¸°ë³¸ê°’ë“¤ì„ ì œê³µí•˜ê¸° ìœ„í•´ì„œì´ë‹¤.</li>\n<li>CMD ëª…ë ¹ì–´ë¥¼ ì—¬ëŸ¬ê°œ ì‘ì„±í–ˆë‹¤ë©´ ê°€ì¥ ë§ˆì§€ë§‰ CMDëª…ë ¹ë§Œ íš¨ë ¥ì„ ë°œìƒì‹œí‚¨ë‹¤.</li>\n<li>ì´ 3ê°€ì§€ í˜•íƒœë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\n<ul>\n<li><code class=\"language-text\">CMD [\"executable\",\"param1\",\"param2\"]</code> (exec í˜•ì‹, ê¶Œì¥í•˜ëŠ” í˜•ì‹)\n<div class=\"gatsby-highlight\" data-language=\"docker\"><pre class=\"language-docker\"><code class=\"language-docker\"><span class=\"token comment\"># exec í˜•ì‹ì„ ì‚¬ìš©í•˜ë©´ì„œ ì‰˜ì„ ì§ì ‘ ì‹¤í–‰í•˜ëŠ” ê²½ìš°,</span>\n<span class=\"token comment\"># ë„ì»¤ê°€ ì•„ë‹Œ í™˜ê²½ ë³€ìˆ˜ í™•ì¥ì„ ìˆ˜í–‰í•˜ëŠ” ì‰˜ì…ë‹ˆë‹¤.</span>\n<span class=\"token instruction\"><span class=\"token keyword\">FROM</span> ubuntu</span>\n<span class=\"token instruction\"><span class=\"token keyword\">CMD</span> [ <span class=\"token string\">\"sh\"</span>, <span class=\"token string\">\"-c\"</span>, <span class=\"token string\">\"echo $HOME\"</span>]</span></code></pre></div>\n</li>\n<li><code class=\"language-text\">CMD [\"param1\",\"param2\"]</code> (EntryPoint í˜•ì‹)\n<div class=\"gatsby-highlight\" data-language=\"docker\"><pre class=\"language-docker\"><code class=\"language-docker\"><span class=\"token comment\"># Shell ì—†ì´ ì‹¤í–‰í•˜ê³  ì‹¶ì„ ë•Œ</span>\n<span class=\"token comment\"># JSON í˜•ì‹ + ì‹¤í–‰ê°€ëŠ¥í•œ í”„ë¡œê·¸ë¨ì˜ ê²½ë¡œ</span>\n<span class=\"token instruction\"><span class=\"token keyword\">FROM</span> ubuntu</span>\n<span class=\"token instruction\"><span class=\"token keyword\">CMD</span> [<span class=\"token string\">\"/usr/bin/wc\"</span>,<span class=\"token string\">\"--help\"</span>]</span></code></pre></div>\n</li>\n<li><code class=\"language-text\">CMD command param1 param2</code> (Shell í˜•ì‹)\n<div class=\"gatsby-highlight\" data-language=\"docker\"><pre class=\"language-docker\"><code class=\"language-docker\"><span class=\"token comment\"># Shellì—ì„œ ì‹¤í–‰í•˜ê³  ì‹¶ì„ë•Œ</span>\n<span class=\"token instruction\"><span class=\"token keyword\">FROM</span> ubuntu</span>\n<span class=\"token instruction\"><span class=\"token keyword\">CMD</span> echo <span class=\"token string\">\"This is a test.\"</span> | wc -</span></code></pre></div>\n</li>\n</ul>\n</li>\n</ul>\n<br>\n<hr>\n<h2 id=\"label\" style=\"position:relative;\"><a href=\"#label\" aria-label=\"label permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>LABEL</h2>\n<ul>\n<li><code class=\"language-text\">LABEL</code> ëª…ë ¹ì–´ëŠ” ì´ë¯¸ì§€ì— metadataë¥¼ ì¶”ê°€í•˜ëŠ” Key-Value ìŒì´ë‹¤.</li>\n<li>ë¶€ëª¨, ë² ì´ìŠ¤ ì´ë¯¸ì§€ì˜ ê°’ë„ í¬í•¨í•˜ê³  ìˆìœ¼ë©°, Keyê°’ì´ ê°™ì€ ê²½ìš° ìµœì‹ ê°’ìœ¼ë¡œ ë®ì–´ì”Œì›Œì§„ë‹¤.\n<div class=\"gatsby-highlight\" data-language=\"docker\"><pre class=\"language-docker\"><code class=\"language-docker\"><span class=\"token instruction\"><span class=\"token keyword\">LABEL</span> multi.label1=<span class=\"token string\">\"value1\"</span> multi.label2=<span class=\"token string\">\"value2\"</span> other=<span class=\"token string\">\"value3\"</span></span>\n\n<span class=\"token instruction\"><span class=\"token keyword\">LABEL</span> <span class=\"token string\">\"com.example.vendor\"</span>=<span class=\"token string\">\"ACME Incorporated\"</span> <span class=\"token operator\">\\</span>\n      version=<span class=\"token string\">\"1.0\"</span> <span class=\"token operator\">\\</span>\n      description=<span class=\"token string\">\"This text illustrates\"</span></span></code></pre></div>\n</li>\n<li>íŠ¹ì • ì´ë¯¸ì§€ì˜ ë¼ë²¨ì„ ë³´ê³ ì‹¶ì„ë•Œ\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">docker</span> image inspect --format<span class=\"token operator\">=</span><span class=\"token string\">''</span> myimage\n\n<span class=\"token punctuation\">{</span>\n  <span class=\"token string\">\"com.example.vendor\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"ACME Incorporated\"</span>,\n  <span class=\"token string\">\"com.example.label-with-value\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"foo\"</span>,\n  <span class=\"token string\">\"version\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"1.0\"</span>,\n  <span class=\"token string\">\"description\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"This text illustrates that label-values can span multiple lines.\"</span>,\n  <span class=\"token string\">\"multi.label1\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"value1\"</span>,\n  <span class=\"token string\">\"multi.label2\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"value2\"</span>,\n  <span class=\"token string\">\"other\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"value3\"</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n<li><code class=\"language-text\">MAINTAINER</code> ëª…ë ¹ì–´ì˜ ê²½ìš° <strong>deprecated</strong>ë˜ì—ˆê¸° ë•Œë¬¸ì— <strong>LABELì˜ author í•„ë“œë¡œ ëŒ€ì²´</strong>í•œë‹¤.\n<div class=\"gatsby-highlight\" data-language=\"docker\"><pre class=\"language-docker\"><code class=\"language-docker\"><span class=\"token instruction\"><span class=\"token keyword\">LABEL</span> org.opencontainers.image.authors=<span class=\"token string\">\"SvenDowideit@home.org.au\"</span></span></code></pre></div>\n</li>\n</ul>\n<br>\n<hr>\n<h2 id=\"expose\" style=\"position:relative;\"><a href=\"#expose\" aria-label=\"expose permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>EXPOSE</h2>\n<ul>\n<li><code class=\"language-text\">EXPOSE</code> ëª…ë ¹ì–´ëŠ” ì»¨í…Œì´ë„ˆê°€ ë™ì‘í•˜ëŠ” ë™ì•ˆ ìˆ˜ì‹ í•  Portì™€ Protocol(TCP, UDP)ì„ ì„¤ì •í•œë‹¤.\n<div class=\"gatsby-highlight\" data-language=\"docker\"><pre class=\"language-docker\"><code class=\"language-docker\"><span class=\"token instruction\"><span class=\"token keyword\">EXPOSE</span> 80/tcp</span>\n<span class=\"token instruction\"><span class=\"token keyword\">EXPOSE</span> 80/udp</span></code></pre></div>\n</li>\n<li>í•˜ì§€ë§Œ ì´ ëª…ë ¹ì–´ëŠ” ì‹¤ì œë¡œ Portë¥¼ ì—´ì–´ë‘ëŠ”ê²Œ ì•„ë‹ˆë¼ í¬íŠ¸ì˜ í˜•ì‹ì„ ì •í•˜ëŠ” ê²ƒì´ë‹¤.</li>\n<li>ì‹¤ì œ Portê°€ ë™ì‘í•˜ë„ë¡ í•˜ë ¤ë©´, ì•„ë˜ì™€ ê°™ì´ <code class=\"language-text\">docker run -p</code> í”Œë˜ê·¸ë¡œ í¬íŠ¸ë¥¼ ì§€ì •í•´ì¤˜ì•¼ í•œë‹¤.\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># Format</span>\n<span class=\"token comment\"># 1. ip:hostPort:containerPort</span>\n<span class=\"token comment\"># 2. ip::containerPort</span>\n<span class=\"token comment\"># 3. hostPort:containerPort</span>\n<span class=\"token comment\"># 4. containerPort</span>\n\n<span class=\"token comment\"># ì»¨í…Œì´ë„ˆì˜ íŠ¹ì • í¬íŠ¸ë¥¼ ê°œë°©í•œë‹¤.</span>\n$ <span class=\"token function\">docker</span> run -p <span class=\"token number\">80</span>:80/tcp -p <span class=\"token number\">80</span>:80/udp\n\n<span class=\"token comment\"># íŠ¹ì • ë²”ìœ„ì˜ ì»¨í…Œì´ë„ˆ í¬íŠ¸ë¥¼ ê°œë°©í•œë‹¤.</span>\n$ <span class=\"token function\">docker</span> run -p <span class=\"token number\">1234</span>-1236:1234-1236/tcp\n\n<span class=\"token comment\"># exposeëœ ëª¨ë“  í¬íŠ¸ë¥¼ ê°œë°©í•œë‹¤</span>\n$ <span class=\"token function\">docker</span> run -P\n\n<span class=\"token comment\"># exposeëœ ëª¨ë“  í¬íŠ¸ë¥¼ ê°œë°©í•˜ê³ ,</span>\n<span class=\"token comment\"># ë‹¤ë¥¸ ì»¨í…Œì´ë„ˆê°€ í´ë¼ì´ì–¸íŠ¸ê°€ ë˜ë„ë¡ bridge networkë¥¼ í˜•ì„±í•œë‹¤.</span>\n$ <span class=\"token function\">docker</span> run -P --link<span class=\"token operator\">=</span><span class=\"token variable\">${another-container-id}</span></code></pre></div>\n</li>\n</ul>\n<br>\n<p>(ì‘ì„±ì¤‘ì…ë‹ˆë‹¤ ã… ã… )</p>\n<hr>\n<h2 id=\"add\" style=\"position:relative;\"><a href=\"#add\" aria-label=\"add permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ADD</h2>\n<br>\n<hr>\n<h2 id=\"copy\" style=\"position:relative;\"><a href=\"#copy\" aria-label=\"copy permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>COPY</h2>\n<br>\n<hr>\n<h2 id=\"entrypoint\" style=\"position:relative;\"><a href=\"#entrypoint\" aria-label=\"entrypoint permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ENTRYPOINT</h2>\n<br>\n<hr>\n<h2 id=\"volume\" style=\"position:relative;\"><a href=\"#volume\" aria-label=\"volume permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>VOLUME</h2>\n<br>\n<hr>\n<h2 id=\"user\" style=\"position:relative;\"><a href=\"#user\" aria-label=\"user permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>USER</h2>\n<br>\n<hr>\n<h2 id=\"workdir\" style=\"position:relative;\"><a href=\"#workdir\" aria-label=\"workdir permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>WORKDIR</h2>\n<br>\n<hr>\n<h2 id=\"arg\" style=\"position:relative;\"><a href=\"#arg\" aria-label=\"arg permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ARG</h2>\n<br>\n<hr>\n<br>\n<p><em>ì¶œì²˜</em></p>\n<p><em><a href=\"https://docs.docker.com/engine/reference/builder/\">ë„ì»¤ ê³µì‹ë¬¸ì„œ</a></em></p>\n<br/>\n<hr>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#format\">Format</a></li>\n<li><a href=\"#from\">FROM</a></li>\n<li><a href=\"#run\">RUN</a></li>\n<li><a href=\"#cmd\">CMD</a></li>\n<li><a href=\"#label\">LABEL</a></li>\n<li><a href=\"#expose\">EXPOSE</a></li>\n<li><a href=\"#add\">ADD</a></li>\n<li><a href=\"#copy\">COPY</a></li>\n<li><a href=\"#entrypoint\">ENTRYPOINT</a></li>\n<li><a href=\"#volume\">VOLUME</a></li>\n<li><a href=\"#user\">USER</a></li>\n<li><a href=\"#workdir\">WORKDIR</a></li>\n<li><a href=\"#arg\">ARG</a></li>\n</ul>\n</div>","excerpt":"ì§€ì ê³¼ ëŒ“ê¸€ì€ ì–¸ì œë‚˜ í™˜ì˜í•©ë‹ˆë‹¤! Docker ê³µì‹ë¬¸ì„œ ê°™ì´ì½ê¸° ë„ì»¤ ê³µì‹ë¬¸ì„œë¥¼ ë²ˆì—­ ë° ìš”ì•½í•´ë³´ì•˜ë‹¤! ìµœëŒ€í•œ ì‹ ì¤‘íˆ ë²ˆì—­í•˜ë ¤ê³  ë…¸ë ¥í–ˆì§€ë§Œ ì‹¤ìˆ˜ê°€ ìˆë‹¤ë©´ ë„ˆê·¸ëŸ½ê²Œ ëŒ“ê¸€ë¡œ ì§€ì í•´ì£¼ì‹œê¸¸ ë°”ë€ë‹¤! P.S ì¶”ê°€ë¡œ ì›ë¬¸ì„ ì§ì ‘ ì½ì–´ë³´ì…”ë„ í° ë„ì›€ì´ ë  ê²ƒì´ë¼ê³  ìƒê°í•œë‹¤. Format ëª…ë ¹ì–´(Instruction) ëª…ë ¹ì–´ëŠ” ëŒ€ë¬¸ìë¡œ ì‘ì„±í•œë‹¤. ë„ì»¤ ëª…ë ¹ì–´ëŠ” ëŒ€ì†Œë¬¸ì êµ¬ë¶„ì´ ì—†ì§€ë§Œ, argumentsì™€ ì‰½ê²Œ êµ¬ë¶„í•˜ê¸° ìœ„í•´ì„œ ê¶Œì¥í•œë‹¤. ì£¼ì„ ì£¼ì„ì€ â€˜#â€™ìœ¼ë¡œ ì‘ì„± ì£¼ì„ê³¼ ê³µë°±ì€ ì‹¤í–‰ ì „ì— ì œê±°ë˜ì–´ ì‹¤í–‰ëœë‹¤. í•˜ì§€ë§Œ ê³µë°±ì´ ëª…ë ¹ì–´ì˜ argumentsë¼ë©´ ìœ ì§€ëœë‹¤. íŒŒì„œ ì§€ì‹œë¬¸(Parse Directive) Parse DirectiveëŠ” íŠ¹ë³„í•œ ì¢…ë¥˜ì˜ ì£¼ì„ìœ¼ë¡œ ì´ ì§€ì‹œì–´ ì•„ë«ì¤„ë¶€í„° ì˜í–¥ì„ ì¤€ë‹¤. (í•„ìˆ˜ X) Parse Directiveì—ëŠ”  ì™€  2ê°€ì§€ ìš©ë²•ì´ ìˆë‹¤.  ëŠ” ì‚¬ìš©í•˜ê³ ì í•˜ëŠ” íŠ¹ì • Dockerfile ì´ë¯¸ì§€ë¥¼ ì§€ì •í•  ë•Œ ì“´ë‹¤. (BuildKit í•„ìš”)  ëŠ” Dockerfileì˜ ê°œí–‰ë¬¸ìâ€¦","frontmatter":{"date":"November 17, 2022","title":"Letâ€™s Go Docker(ë²ˆì™¸í¸) - Docker ê³µì‹ë¬¸ì„œ ê°™ì´ì½ê¸°","categories":"infra","author":"ì£¼ë…","emoji":"ğŸ”®"},"fields":{"slug":"/infra-learn-docker-basic-4/"}},"next":{"id":"856848bf-7237-501e-a187-3060a4b5ac79","html":"<p>ì§€ì ê³¼ ëŒ“ê¸€ì€ ì–¸ì œë‚˜ í™˜ì˜í•©ë‹ˆë‹¤!</p>\n<br/>\n<h1 id=\"ë³€ê²½ì‚¬í•­ì„-dockerë¡œ-ìë™-ë°°í¬í•˜ê¸°\" style=\"position:relative;\"><a href=\"#%EB%B3%80%EA%B2%BD%EC%82%AC%ED%95%AD%EC%9D%84-docker%EB%A1%9C-%EC%9E%90%EB%8F%99-%EB%B0%B0%ED%8F%AC%ED%95%98%EA%B8%B0\" aria-label=\"ë³€ê²½ì‚¬í•­ì„ dockerë¡œ ìë™ ë°°í¬í•˜ê¸° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë³€ê²½ì‚¬í•­ì„ Dockerë¡œ ìë™ ë°°í¬í•˜ê¸°</h1>\n<p>ë³€ê²½ì‚¬í•­ì„ ê°ì§€í•˜ê³  ë°°í¬í•˜ë ¤ë©´</p>\n<p>CI/CD íŒŒì´í”„ë¼ì¸ êµ¬ì¶•ì„ ë¨¼ì € ì•Œì•„ì•¼í•œë‹¤.</p>\n<br>\n<p>CI/CD íŒŒì´í”„ë¼ì¸ì„ êµ¬ì¶•í•˜ëŠ” ë°©ë²•ì€</p>\n<p>ë²„ì „ ê´€ë¦¬ í”Œë«í¼ë³„ë¡œ ë‹¤ë¥´ë‹¤.</p>\n<br>\n<p>ëŒ€í‘œì ìœ¼ë¡œ Github Action, Gitlab, Terraform ë“±ì´ ìˆìœ¼ë‚˜</p>\n<p>Github Actionìœ¼ë¡œ ì§„í–‰í•´ë³´ë„ë¡ í•˜ê² ë‹¤.</p>\n<br>\n<hr>\n<h2 id=\"github-actionì„-ì´ìš©í•œ-cicd\" style=\"position:relative;\"><a href=\"#github-action%EC%9D%84-%EC%9D%B4%EC%9A%A9%ED%95%9C-cicd\" aria-label=\"github actionì„ ì´ìš©í•œ cicd permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Github Actionì„ ì´ìš©í•œ CI/CD</h2>\n<br>\n<p>GithubëŠ” ì‚¬ìš©ìê°€ CI/CD ë„êµ¬ë¥¼ ì§ì ‘ í†µí•©í•´ì•¼ í•œë‹¤.</p>\n<p>ì„ íƒì§€ë¡œ Jenkins, CircleCI, TravisCI ë“±ì´ ìˆë‹¤</p>\n<br>\n<p>í•„ìëŠ” í˜„ì¬ ì´ ë¸”ë¡œê·¸ë„ Github Actionìœ¼ë¡œ ìë™ ë°°í¬í•˜ê³  ìˆë‹¤.</p>\n<p>ê·¸ ë•Œì˜ <a href=\"https://www.junwork.net/blog-build-deploy-2/\">ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸</a>ë¥¼ ì¬í™œìš©í•´ë³´ì.</p>\n<p>ìì„¸í•œ ì„¤ëª…ì€ ì£¼ì„ì„ ì°¸ê³ í•˜ì.</p>\n<br>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"># ì•Œì•„ë‘ê¸°\nì¤‘ê°„ì¤‘ê°„ ë³´ì´ëŠ” secretë“¤ì€ ì €ì¥ì†Œ ë‚´ í™˜ê²½ë³€ìˆ˜ë¡œ,\nRepository ìƒë‹¨ Settings > Secretsì—ì„œ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> App Deployment <span class=\"token comment\"># ì´ ìŠ¤í¬ë¦½íŠ¸ì˜ ì œëª©</span>\n\n<span class=\"token comment\"># ì–´ë–¤ í–‰ë™ì„ í• ë•Œë§ˆë‹¤ ì‹¤í–‰í• ì§€</span>\n<span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span>\n  <span class=\"token comment\"># master, release/v*ë¼ëŠ” ì´ë¦„ì˜ ë¸Œëœì¹˜ì— pushê°€ ë°œìƒí•  ë•Œë§ˆë‹¤</span>\n  <span class=\"token comment\"># ex) release/v0.1, release/v2.1.5</span>\n  <span class=\"token key atrule\">push</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">branches</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> master\n      <span class=\"token punctuation\">-</span> release/v*\n\n  <span class=\"token comment\"># feature, fix ë¸Œëœì¹˜ì— pull_requestê°€ ë°œìƒí•  ë•Œë§ˆë‹¤</span>\n  <span class=\"token key atrule\">pull_request</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">branches</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> feature<span class=\"token punctuation\">-</span>*\n      <span class=\"token punctuation\">-</span> fix<span class=\"token punctuation\">-</span>*\n\n<span class=\"token comment\"># ì‹¤í–‰í•  ì‘ì—…ì„ ìˆœì„œëŒ€ë¡œ ì •ì˜í•¨</span>\n<span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">build</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest\n    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\n    \n    <span class=\"token comment\"># ì²´í¬ì•„ì›ƒ</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> checkout\n      <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/checkout@v3\n\n    <span class=\"token comment\"># JDK ì„¤ì¹˜</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Set up JDK 11\n      <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/setup<span class=\"token punctuation\">-</span>java@v3\n      <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">java-version</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'11'</span>\n        <span class=\"token key atrule\">distribution</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'temurin'</span>\n\n    <span class=\"token comment\"># DB ì„¤ì • íŒŒì¼ ìƒì„±</span>\n    <span class=\"token comment\"># ì¤‘ìš” ì •ë³´ëŠ” Github Secretì—ì„œ ë³µì‚¬í•´ì˜¨ë‹¤.</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> make application<span class=\"token punctuation\">-</span>database.yaml\n      <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\">\n        # create application-database.yaml\n        cd ./src/main/resources</span>\n\n        <span class=\"token comment\"># application-database.yaml íŒŒì¼ ìƒì„±</span>\n        touch ./application<span class=\"token punctuation\">-</span>database.yaml\n\n        <span class=\"token comment\"># GitHub-Actions ì—ì„œ ì„¤ì •í•œ ê°’ì„ application-database.yaml íŒŒì¼ì— ì“°ê¸°</span>\n        echo \"$<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.DATABASE <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\" <span class=\"token punctuation\">></span><span class=\"token punctuation\">></span> ./application<span class=\"token punctuation\">-</span>database.yaml\n      <span class=\"token key atrule\">shell</span><span class=\"token punctuation\">:</span> bash\n\n    <span class=\"token comment\"># gradle ë¹Œë“œ</span>\n    <span class=\"token comment\"># maven ë¹Œë“œ : mvn package</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Build with Gradle\n      <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> ./gradlew bootJar\n\n\n    <span class=\"token comment\"># ì›¹ ì´ë¯¸ì§€ ë¹Œë“œ ë° ë„ì»¤í—ˆë¸Œì— push</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> web docker build and push\n      <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\">\n        docker login -u ${{ secrets.DOCKER_USERNAME }} -p ${{ secrets.DOCKER_PASSWORD }}\n        docker build -t ${{ secrets.DOCKER_REPO }}/second-eyes-web .\n        docker push ${{ secrets.DOCKER_REPO }}/second-eyes-web</span></code></pre></div>\n<p>ìœ„ ìŠ¤í¬ë¦½íŠ¸ë¥¼ Github Actionì„ í†µí•´ ë™ì‘ì‹œí‚¤ë©´</p>\n<p><code class=\"language-text\">ë¹Œë“œ</code> -> <code class=\"language-text\">ë°°í¬</code> -> <code class=\"language-text\">ë„ì»¤ ì´ë¯¸ì§€í™”</code>ê¹Œì§€ í•œë²ˆì— ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.</p>\n<p>ì¶”ê°€ì ìœ¼ë¡œ ì‹¤í–‰ê¹Œì§€ í•˜ë ¤ë©´ ì•„ë˜ Docker Compose ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì¶”ê°€í•˜ë©´ ëœë‹¤.</p>\n<p>Docker Composeì˜ ê°œë…ì´ ìƒì†Œí•  ìˆ˜ ìˆê² ì§€ë§Œ,</p>\n<p>ì‹¤í–‰ ì •ë³´ê¹Œì§€ ì¶”ê°€í•´ì£¼ëŠ” ê²ƒìœ¼ë¡œ ìƒê°í•˜ë©´ ì¢‹ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\">    <span class=\"token comment\">## docker compose up</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> executing remote ssh commands using password\n      <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> appleboy/ssh<span class=\"token punctuation\">-</span>action@master\n      <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">host</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.HOST <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n        <span class=\"token key atrule\">username</span><span class=\"token punctuation\">:</span> ubuntu\n        <span class=\"token key atrule\">key</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.KEY <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n        <span class=\"token key atrule\">script</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\">\n          sudo docker rm -f $(docker ps -qa)\n          sudo docker pull ${{ secrets.DOCKER_REPO }}/second-eyes-web\n          sudo docker pull ${{ secrets.DOCKER_REPO }}/second-eyes-nginx\n          docker-compose up -d\n          docker image prune -f</span></code></pre></div>\n<br>\n<br>\n<hr>\n<p><em>ì¶œì²˜</em></p>\n<p><em><a href=\"https://devlog-wjdrbs96.tistory.com/361\">wjdrbs96ë‹˜ ë¸”ë¡œê·¸</a></em></p>\n<p><em><a href=\"https://stalker5217.netlify.app/devops/github-action-aws-ci-cd-1/\">stalker5217ë‹˜ ë¸”ë¡œê·¸</a></em></p>\n<p><em><a href=\"https://velog.io/@rmswjdtn/Spring-Docker-Github-Action-Spring-Boot-%EC%9E%90%EB%8F%99%EB%B0%B0%ED%8F%AC%ED%99%98%EA%B2%BD-%EB%A7%8C%EB%93%A4%EA%B8%B0\">rmswjdtnë‹˜ ë¸”ë¡œê·¸</a></em></p>\n<br/>\n<hr>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#github-action%EC%9D%84-%EC%9D%B4%EC%9A%A9%ED%95%9C-cicd\">Github Actionì„ ì´ìš©í•œ CI/CD</a></li>\n</ul>\n</div>","frontmatter":{"date":"November 16, 2022","title":"Letâ€™s Go Docker(ì‹¬í™”í¸) - ë³€ê²½ì‚¬í•­ì„ Dockerë¡œ ìë™ ë°°í¬í•˜ê¸°","categories":"infra","author":"ì£¼ë…","emoji":"ğŸ”®"},"fields":{"slug":"/infra-learn-docker-basic-3/"}},"prev":null,"site":{"siteMetadata":{"siteUrl":"https://www.junwork.net","comments":{"utterances":{"repo":"junwork123/blog-comments"}}}}},"pageContext":{"slug":"/infra-learn-docker-basic-4/","nextSlug":"/infra-learn-docker-basic-3/","prevSlug":""}},
    "staticQueryHashes": ["1073350324","1956554647","2938748437"]}