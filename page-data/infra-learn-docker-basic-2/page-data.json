{
    "componentChunkName": "component---src-templates-blog-template-js",
    "path": "/infra-learn-docker-basic-2/",
    "result": {"data":{"cur":{"id":"229bcd5f-6cfc-5c66-8a80-4e8ef2de2f1e","html":"<p>ì§€ì ê³¼ ëŒ“ê¸€ì€ ì–¸ì œë‚˜ í™˜ì˜í•©ë‹ˆë‹¤!</p>\n<br/>\n<h1 id=\"ì–´í”Œë¦¬ì¼€ì´ì…˜ì„-dockerë¡œ-ë°°í¬í•˜ê¸°\" style=\"position:relative;\"><a href=\"#%EC%96%B4%ED%94%8C%EB%A6%AC%EC%BC%80%EC%9D%B4%EC%85%98%EC%9D%84-docker%EB%A1%9C-%EB%B0%B0%ED%8F%AC%ED%95%98%EA%B8%B0\" aria-label=\"ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ dockerë¡œ ë°°í¬í•˜ê¸° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ Dockerë¡œ ë°°í¬í•˜ê¸°</h1>\n<p>ì´ë²ˆ ì‹¤ìŠµí¸ì—ì„œëŠ”</p>\n<p>ì•„ë˜ 3ê°€ì§€ ë‹¨ê³„ë¥¼ í†µí•´ ë„ì»¤ë¥¼ ì°ë¨¹í•´ë³¼ ê²ƒì´ë‹¤.</p>\n<ul>\n<li>\n<p>Docker ì´ë¯¸ì§€ ë§Œë“¤ê¸°</p>\n</li>\n<li>\n<p>ë§Œë“  ì´ë¯¸ì§€ë¥¼ ì‹¤í–‰í•´ë³´ê¸°</p>\n</li>\n<li>\n<p>ë³€ê²½ì‚¬í•­ì„ ìë™ìœ¼ë¡œ ë°°í¬í•˜ê¸°(ì‹¬í™”í¸)</p>\n</li>\n</ul>\n<br>\n<hr>\n<h2 id=\"1-docker-ì´ë¯¸ì§€-ë§Œë“¤ê¸°\" style=\"position:relative;\"><a href=\"#1-docker-%EC%9D%B4%EB%AF%B8%EC%A7%80-%EB%A7%8C%EB%93%A4%EA%B8%B0\" aria-label=\"1 docker ì´ë¯¸ì§€ ë§Œë“¤ê¸° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. Docker ì´ë¯¸ì§€ ë§Œë“¤ê¸°</h2>\n<br>\n<p>Docker ì»¨í…Œì´ë„ˆëŠ” Docker ì´ë¯¸ì§€ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì‹¤í–‰ëœë‹¤.</p>\n<p>ìš°ë¦¬ê°€ ë§Œë“  ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ Docker ì´ë¯¸ì§€ë¡œ ì§ì ‘ ë§Œë“¤ì–´ë³´ì.</p>\n<br>\n<p>ìš°ì„ , ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ë¹Œë“œí•œ ê²°ê³¼ë¬¼ì„ ê°€ì§€ê³  ìˆì–´ì•¼í•œë‹¤.</p>\n<p>í•„ìëŠ” <code class=\"language-text\">IntelliJ</code>ì—ì„œ <code class=\"language-text\">Spring Boot</code> ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ <code class=\"language-text\">JaríŒŒì¼</code>ë¡œ ë§Œë“¤ê²ƒì´ë‹¤.</p>\n<p>ë§Œë“œëŠ” ë°©ë²•ì€ <a href=\"https://www.junwork.net/How-to-build-jar/\">í•„ìê°€ ì •ë¦¬í•œ ê¸€</a>ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</p>\n<br>\n<p>(ë§Œì•½, ë‹¤ë¥¸ ì–¸ì–´ë‚˜ í”Œë«í¼ì´ë¼ë©´</p>\n<p>ìì‹ ì˜ í”„ë¡œì íŠ¸ì— ë§ê²Œ ë¹Œë“œ ê²°ê³¼ë¬¼ì„ ì–»ê³  ë‹¤ìŒ ë‹¨ê³„ë¥¼ ì§„í–‰í•˜ì.)</p>\n<br>\n<h2 id=\"2-ë§Œë“ -ì´ë¯¸ì§€ë¥¼-ì‹¤í–‰í•´ë³´ê¸°\" style=\"position:relative;\"><a href=\"#2-%EB%A7%8C%EB%93%A0-%EC%9D%B4%EB%AF%B8%EC%A7%80%EB%A5%BC-%EC%8B%A4%ED%96%89%ED%95%B4%EB%B3%B4%EA%B8%B0\" aria-label=\"2 ë§Œë“  ì´ë¯¸ì§€ë¥¼ ì‹¤í–‰í•´ë³´ê¸° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. ë§Œë“  ì´ë¯¸ì§€ë¥¼ ì‹¤í–‰í•´ë³´ê¸°</h2>\n<p>í”„ë¡œì íŠ¸ ìµœìƒìœ„ ë””ë ‰í† ë¦¬ì—</p>\n<p><code class=\"language-text\">dockerfile</code>ì„ ì•„ë˜ì™€ ê°™ì€ ë‚´ìš©ìœ¼ë¡œìƒì„±í•˜ì.</p>\n<br>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">FROM adoptopenjdk/openjdk11\nCMD <span class=\"token punctuation\">[</span><span class=\"token string\">\"./mvnw\"</span>, <span class=\"token string\">\"clean\"</span>, <span class=\"token string\">\"package\"</span><span class=\"token punctuation\">]</span>\nARG <span class=\"token assign-left variable\">JAR_FILE_PATH</span><span class=\"token operator\">=</span>target/*.jar\nCOPY <span class=\"token variable\">${JAR_FILE_PATH}</span> app.jar\nENTRYPOINT <span class=\"token punctuation\">[</span><span class=\"token string\">\"java\"</span>, <span class=\"token string\">\"-jar\"</span>, <span class=\"token string\">\"app.jar\"</span><span class=\"token punctuation\">]</span></code></pre></div>\n<br>\n<p>ê·¸ë¦¬ê³  ë¹Œë“œí•´ë³´ì.</p>\n<br>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> build -t docker-example:0.0.1 <span class=\"token builtin class-name\">.</span></code></pre></div>\n<br>\n<p>images ëª…ë ¹ì–´ë¡œ dockerì´ë¯¸ì§€ê°€ ì œëŒ€ë¡œ ë§Œë“¤ì–´ ì¡ŒëŠ”ì§€ í™•ì¸í•œë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> images</code></pre></div>\n<br>\n<p>ë“œë””ì–´ Docker ì´ë¯¸ì§€ë¥¼ ì‹¤í–‰í•˜ëŠ” ìˆœê°„ì´ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"> <span class=\"token function\">docker</span> run docker-example:0.0.1</code></pre></div>\n<br>\n<p>Dokcerê°€ ì˜ ë™ì‘í•˜ëŠ”ì§€ í™•ì¸í–ˆë‹¤ë©´,</p>\n<p>ì–´í”Œë¦¬ì¼€ì´ì…˜ì´ ì˜ ë™ì‘í•˜ëŠ”ì§€ í™•ì¸ë„ í•´ë³´ì.</p>\n<p>(ì•„ë˜ ë°©ë²•ì€ ì˜ˆì‹œì¼ ë¿ì´ë‹ˆ ê°ì ë°©ë²•ìœ¼ë¡œ ìì‹ ì˜ ì•±ì— í…ŒìŠ¤íŠ¸í•´ë³´ì!)</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">curl</span> localhost:8080/</code></pre></div>\n<br>\n<hr>\n<br>\n<p>ì§€ê¸ˆê¹Œì§€ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ Dockerfileì„ í†µí•´</p>\n<p>Docker ì´ë¯¸ì§€ë¡œ ìƒì„±í•´ë³´ì•˜ë‹¤.</p>\n<br>\n<p>í•˜ì§€ë§Œ, ì†ŒìŠ¤ì½”ë“œì˜ ë‚´ìš©ì´ ë³€ê²½ë˜ë©´, ë‹¤ì‹œ ìœ„ ê³¼ì •ì„ ê±°ì³ì•¼í•œë‹¤.</p>\n<p>ë³€ê²½ì‚¬í•­ì„ ìë™ìœ¼ë¡œ ë°°í¬í•  ìˆ˜ëŠ” ì—†ì„ê¹Œ?</p>\n<p>ë‹¤ìŒ ì‹¤ìŠµí¸ì„ í†µí•´ ë°°ì›Œë³´ë„ë¡ í•˜ì</p>\n<br>\n<p><em>ì¶œì²˜</em></p>\n<p><em><a href=\"https://da2uns2.tistory.com/entry/Docker-%EB%8F%84%EC%BB%A4-%EC%8B%9C%EC%9E%91%ED%95%98%EA%B8%B0-2-%EB%8F%84%EC%BB%A4-%EA%B8%B0%EB%B3%B8-%EB%AA%85%EB%A0%B9%EC%96%B4\">[Docker] ë„ì»¤ ì‹œì‘í•˜ê¸° - 2. ë„ì»¤ ê¸°ë³¸ ëª…ë ¹ì–´ (tistory.com)</a></em></p>\n<p><em><a href=\"https://subicura.com/2017/01/19/docker-guide-for-beginners-2.html\">ì´ˆë³´ë¥¼ ìœ„í•œ ë„ì»¤ ì•ˆë‚´ì„œ - ì„¤ì¹˜í•˜ê³  ì»¨í…Œì´ë„ˆ ì‹¤í–‰í•˜ê¸° (subicura.com)</a></em></p>\n<p><em><a href=\"https://subicura.com/2017/02/10/docker-guide-for-beginners-create-image-and-deploy.html\">ì´ˆë³´ë¥¼ ìœ„í•œ ë„ì»¤ ì•ˆë‚´ì„œ - ì´ë¯¸ì§€ ë§Œë“¤ê³  ë°°í¬í•˜ê¸° (subicura.com)</a></em></p>\n<p><em><a href=\"https://umanking.github.io/2021/07/11/spring-boot-docker-starter/\">Spring Boot, Dockerfileë¡œ ì´ë¯¸ì§€ ìƒì„±, ë°°í¬í•˜ê¸° | ê°œë°œ ì €ì¥ì†Œ (umanking.github.io)</a></em></p>\n<p><em><a href=\"https://spring.io/guides/topicals/spring-boot-docker\">Topical Guide | Spring Boot Docker</a></em></p>\n<p><em><a href=\"https://docs.docker.com/engine/reference/builder/\">Dockerfile reference | Docker Documentation</a></em></p>\n<br/>\n<hr>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#1-docker-%EC%9D%B4%EB%AF%B8%EC%A7%80-%EB%A7%8C%EB%93%A4%EA%B8%B0\">1. Docker ì´ë¯¸ì§€ ë§Œë“¤ê¸°</a></li>\n<li><a href=\"#2-%EB%A7%8C%EB%93%A0-%EC%9D%B4%EB%AF%B8%EC%A7%80%EB%A5%BC-%EC%8B%A4%ED%96%89%ED%95%B4%EB%B3%B4%EA%B8%B0\">2. ë§Œë“  ì´ë¯¸ì§€ë¥¼ ì‹¤í–‰í•´ë³´ê¸°</a></li>\n</ul>\n</div>","excerpt":"ì§€ì ê³¼ ëŒ“ê¸€ì€ ì–¸ì œë‚˜ í™˜ì˜í•©ë‹ˆë‹¤! ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ Dockerë¡œ ë°°í¬í•˜ê¸° ì´ë²ˆ ì‹¤ìŠµí¸ì—ì„œëŠ” ì•„ë˜ 3ê°€ì§€ ë‹¨ê³„ë¥¼ í†µí•´ ë„ì»¤ë¥¼ ì°ë¨¹í•´ë³¼ ê²ƒì´ë‹¤. Docker ì´ë¯¸ì§€ ë§Œë“¤ê¸° ë§Œë“  ì´ë¯¸ì§€ë¥¼ ì‹¤í–‰í•´ë³´ê¸° ë³€ê²½ì‚¬í•­ì„ ìë™ìœ¼ë¡œ ë°°í¬í•˜ê¸°(ì‹¬í™”í¸) 1. Docker ì´ë¯¸ì§€ ë§Œë“¤ê¸° Docker ì»¨í…Œì´ë„ˆëŠ” Docker ì´ë¯¸ì§€ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì‹¤í–‰ëœë‹¤. ìš°ë¦¬ê°€ ë§Œë“  ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ Docker ì´ë¯¸ì§€ë¡œ ì§ì ‘ ë§Œë“¤ì–´ë³´ì. ìš°ì„ , ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ë¹Œë“œí•œ ê²°ê³¼ë¬¼ì„ ê°€ì§€ê³  ìˆì–´ì•¼í•œë‹¤. í•„ìëŠ” ì—ì„œ  ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ë¡œ ë§Œë“¤ê²ƒì´ë‹¤. ë§Œë“œëŠ” ë°©ë²•ì€ í•„ìê°€ ì •ë¦¬í•œ ê¸€ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆë‹¤. (ë§Œì•½, ë‹¤ë¥¸ ì–¸ì–´ë‚˜ í”Œë«í¼ì´ë¼ë©´ ìì‹ ì˜ í”„ë¡œì íŠ¸ì— ë§ê²Œ ë¹Œë“œ ê²°ê³¼ë¬¼ì„ ì–»ê³  ë‹¤ìŒ ë‹¨ê³„ë¥¼ ì§„í–‰í•˜ì.) 2. ë§Œë“  ì´ë¯¸ì§€ë¥¼ ì‹¤í–‰í•´ë³´ê¸° í”„ë¡œì íŠ¸ ìµœìƒìœ„ ë””ë ‰í† ë¦¬ì— ì„ ì•„ë˜ì™€ ê°™ì€ ë‚´ìš©ìœ¼ë¡œìƒì„±í•˜ì. ê·¸ë¦¬ê³  ë¹Œë“œí•´ë³´ì. images ëª…ë ¹ì–´ë¡œ dockerì´ë¯¸ì§€ê°€ ì œëŒ€ë¡œ ë§Œë“¤ì–´ ì¡ŒëŠ”ì§€ í™•ì¸í•œë‹¤. ë“œë””ì–´ Docker ì´ë¯¸ì§€ë¥¼ ì‹¤í–‰í•˜ëŠ” ìˆœê°„ì´ë‹¤. Dokcerâ€¦","frontmatter":{"date":"November 06, 2022","title":"Letâ€™s Go Docker(ì‹¤ìŠµí¸) - ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ Dockerë¡œ ë°°í¬í•˜ê¸°","categories":"infra","author":"ì£¼ë…","emoji":"ğŸ”®"},"fields":{"slug":"/infra-learn-docker-basic-2/"}},"next":{"id":"856848bf-7237-501e-a187-3060a4b5ac79","html":"<p>ì§€ì ê³¼ ëŒ“ê¸€ì€ ì–¸ì œë‚˜ í™˜ì˜í•©ë‹ˆë‹¤!</p>\n<br/>\n<h1 id=\"ë³€ê²½ì‚¬í•­ì„-dockerë¡œ-ìë™-ë°°í¬í•˜ê¸°\" style=\"position:relative;\"><a href=\"#%EB%B3%80%EA%B2%BD%EC%82%AC%ED%95%AD%EC%9D%84-docker%EB%A1%9C-%EC%9E%90%EB%8F%99-%EB%B0%B0%ED%8F%AC%ED%95%98%EA%B8%B0\" aria-label=\"ë³€ê²½ì‚¬í•­ì„ dockerë¡œ ìë™ ë°°í¬í•˜ê¸° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë³€ê²½ì‚¬í•­ì„ Dockerë¡œ ìë™ ë°°í¬í•˜ê¸°</h1>\n<p>ë³€ê²½ì‚¬í•­ì„ ê°ì§€í•˜ê³  ë°°í¬í•˜ë ¤ë©´</p>\n<p>CI/CD íŒŒì´í”„ë¼ì¸ êµ¬ì¶•ì„ ë¨¼ì € ì•Œì•„ì•¼í•œë‹¤.</p>\n<br>\n<p>CI/CD íŒŒì´í”„ë¼ì¸ì„ êµ¬ì¶•í•˜ëŠ” ë°©ë²•ì€</p>\n<p>ë²„ì „ ê´€ë¦¬ í”Œë«í¼ë³„ë¡œ ë‹¤ë¥´ë‹¤.</p>\n<br>\n<p>ëŒ€í‘œì ìœ¼ë¡œ Github Action, Gitlab, Terraform ë“±ì´ ìˆìœ¼ë‚˜</p>\n<p>Github Actionìœ¼ë¡œ ì§„í–‰í•´ë³´ë„ë¡ í•˜ê² ë‹¤.</p>\n<br>\n<hr>\n<h2 id=\"github-actionì„-ì´ìš©í•œ-cicd\" style=\"position:relative;\"><a href=\"#github-action%EC%9D%84-%EC%9D%B4%EC%9A%A9%ED%95%9C-cicd\" aria-label=\"github actionì„ ì´ìš©í•œ cicd permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Github Actionì„ ì´ìš©í•œ CI/CD</h2>\n<br>\n<p>GithubëŠ” ì‚¬ìš©ìê°€ CI/CD ë„êµ¬ë¥¼ ì§ì ‘ í†µí•©í•´ì•¼ í•œë‹¤.</p>\n<p>ì„ íƒì§€ë¡œ Jenkins, CircleCI, TravisCI ë“±ì´ ìˆë‹¤</p>\n<br>\n<p>í•„ìëŠ” í˜„ì¬ ì´ ë¸”ë¡œê·¸ë„ Github Actionìœ¼ë¡œ ìë™ ë°°í¬í•˜ê³  ìˆë‹¤.</p>\n<p>ê·¸ ë•Œì˜ <a href=\"https://www.junwork.net/blog-build-deploy-2/\">ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸</a>ë¥¼ ì¬í™œìš©í•´ë³´ì.</p>\n<p>ìì„¸í•œ ì„¤ëª…ì€ ì£¼ì„ì„ ì°¸ê³ í•˜ì.</p>\n<br>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"># ì•Œì•„ë‘ê¸°\nì¤‘ê°„ì¤‘ê°„ ë³´ì´ëŠ” secretë“¤ì€ ì €ì¥ì†Œ ë‚´ í™˜ê²½ë³€ìˆ˜ë¡œ,\nRepository ìƒë‹¨ Settings > Secretsì—ì„œ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> App Deployment <span class=\"token comment\"># ì´ ìŠ¤í¬ë¦½íŠ¸ì˜ ì œëª©</span>\n\n<span class=\"token comment\"># ì–´ë–¤ í–‰ë™ì„ í• ë•Œë§ˆë‹¤ ì‹¤í–‰í• ì§€</span>\n<span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span>\n  <span class=\"token comment\"># master, release/v*ë¼ëŠ” ì´ë¦„ì˜ ë¸Œëœì¹˜ì— pushê°€ ë°œìƒí•  ë•Œë§ˆë‹¤</span>\n  <span class=\"token comment\"># ex) release/v0.1, release/v2.1.5</span>\n  <span class=\"token key atrule\">push</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">branches</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> master\n      <span class=\"token punctuation\">-</span> release/v*\n\n  <span class=\"token comment\"># feature, fix ë¸Œëœì¹˜ì— pull_requestê°€ ë°œìƒí•  ë•Œë§ˆë‹¤</span>\n  <span class=\"token key atrule\">pull_request</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">branches</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> feature<span class=\"token punctuation\">-</span>*\n      <span class=\"token punctuation\">-</span> fix<span class=\"token punctuation\">-</span>*\n\n<span class=\"token comment\"># ì‹¤í–‰í•  ì‘ì—…ì„ ìˆœì„œëŒ€ë¡œ ì •ì˜í•¨</span>\n<span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">build</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest\n    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\n    \n    <span class=\"token comment\"># ì²´í¬ì•„ì›ƒ</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> checkout\n      <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/checkout@v3\n\n    <span class=\"token comment\"># JDK ì„¤ì¹˜</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Set up JDK 11\n      <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/setup<span class=\"token punctuation\">-</span>java@v3\n      <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">java-version</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'11'</span>\n        <span class=\"token key atrule\">distribution</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'temurin'</span>\n\n    <span class=\"token comment\"># DB ì„¤ì • íŒŒì¼ ìƒì„±</span>\n    <span class=\"token comment\"># ì¤‘ìš” ì •ë³´ëŠ” Github Secretì—ì„œ ë³µì‚¬í•´ì˜¨ë‹¤.</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> make application<span class=\"token punctuation\">-</span>database.yaml\n      <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\">\n        # create application-database.yaml\n        cd ./src/main/resources</span>\n\n        <span class=\"token comment\"># application-database.yaml íŒŒì¼ ìƒì„±</span>\n        touch ./application<span class=\"token punctuation\">-</span>database.yaml\n\n        <span class=\"token comment\"># GitHub-Actions ì—ì„œ ì„¤ì •í•œ ê°’ì„ application-database.yaml íŒŒì¼ì— ì“°ê¸°</span>\n        echo \"$<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.DATABASE <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\" <span class=\"token punctuation\">></span><span class=\"token punctuation\">></span> ./application<span class=\"token punctuation\">-</span>database.yaml\n      <span class=\"token key atrule\">shell</span><span class=\"token punctuation\">:</span> bash\n\n    <span class=\"token comment\"># gradle ë¹Œë“œ</span>\n    <span class=\"token comment\"># maven ë¹Œë“œ : mvn package</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Build with Gradle\n      <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> ./gradlew bootJar\n\n\n    <span class=\"token comment\"># ì›¹ ì´ë¯¸ì§€ ë¹Œë“œ ë° ë„ì»¤í—ˆë¸Œì— push</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> web docker build and push\n      <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\">\n        docker login -u ${{ secrets.DOCKER_USERNAME }} -p ${{ secrets.DOCKER_PASSWORD }}\n        docker build -t ${{ secrets.DOCKER_REPO }}/second-eyes-web .\n        docker push ${{ secrets.DOCKER_REPO }}/second-eyes-web</span></code></pre></div>\n<p>ìœ„ ìŠ¤í¬ë¦½íŠ¸ë¥¼ Github Actionì„ í†µí•´ ë™ì‘ì‹œí‚¤ë©´</p>\n<p><code class=\"language-text\">ë¹Œë“œ</code> -> <code class=\"language-text\">ë°°í¬</code> -> <code class=\"language-text\">ë„ì»¤ ì´ë¯¸ì§€í™”</code>ê¹Œì§€ í•œë²ˆì— ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.</p>\n<p>ì¶”ê°€ì ìœ¼ë¡œ ì‹¤í–‰ê¹Œì§€ í•˜ë ¤ë©´ ì•„ë˜ Docker Compose ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì¶”ê°€í•˜ë©´ ëœë‹¤.</p>\n<p>Docker Composeì˜ ê°œë…ì´ ìƒì†Œí•  ìˆ˜ ìˆê² ì§€ë§Œ,</p>\n<p>ì‹¤í–‰ ì •ë³´ê¹Œì§€ ì¶”ê°€í•´ì£¼ëŠ” ê²ƒìœ¼ë¡œ ìƒê°í•˜ë©´ ì¢‹ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\">    <span class=\"token comment\">## docker compose up</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> executing remote ssh commands using password\n      <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> appleboy/ssh<span class=\"token punctuation\">-</span>action@master\n      <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">host</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.HOST <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n        <span class=\"token key atrule\">username</span><span class=\"token punctuation\">:</span> ubuntu\n        <span class=\"token key atrule\">key</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.KEY <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n        <span class=\"token key atrule\">script</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\">\n          sudo docker rm -f $(docker ps -qa)\n          sudo docker pull ${{ secrets.DOCKER_REPO }}/second-eyes-web\n          sudo docker pull ${{ secrets.DOCKER_REPO }}/second-eyes-nginx\n          docker-compose up -d\n          docker image prune -f</span></code></pre></div>\n<br>\n<br>\n<hr>\n<p><em>ì¶œì²˜</em></p>\n<p><em><a href=\"https://devlog-wjdrbs96.tistory.com/361\">wjdrbs96ë‹˜ ë¸”ë¡œê·¸</a></em></p>\n<p><em><a href=\"https://stalker5217.netlify.app/devops/github-action-aws-ci-cd-1/\">stalker5217ë‹˜ ë¸”ë¡œê·¸</a></em></p>\n<p><em><a href=\"https://velog.io/@rmswjdtn/Spring-Docker-Github-Action-Spring-Boot-%EC%9E%90%EB%8F%99%EB%B0%B0%ED%8F%AC%ED%99%98%EA%B2%BD-%EB%A7%8C%EB%93%A4%EA%B8%B0\">rmswjdtnë‹˜ ë¸”ë¡œê·¸</a></em></p>\n<br/>\n<hr>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#github-action%EC%9D%84-%EC%9D%B4%EC%9A%A9%ED%95%9C-cicd\">Github Actionì„ ì´ìš©í•œ CI/CD</a></li>\n</ul>\n</div>","frontmatter":{"date":"November 06, 2022","title":"Letâ€™s Go Docker(ì‹¬í™”í¸) - ë³€ê²½ì‚¬í•­ì„ Dockerë¡œ ìë™ ë°°í¬í•˜ê¸°","categories":"infra","author":"ì£¼ë…","emoji":"ğŸ”®"},"fields":{"slug":"/infra-learn-docker-basic-3/"}},"prev":null,"site":{"siteMetadata":{"siteUrl":"https://www.junwork.net","comments":{"utterances":{"repo":"junwork123/blog-comments"}}}}},"pageContext":{"slug":"/infra-learn-docker-basic-2/","nextSlug":"/infra-learn-docker-basic-3/","prevSlug":""}},
    "staticQueryHashes": ["1073350324","1956554647","2938748437"]}